/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 528 "replace.c"
void __globinit_replace(void) ;
extern void __CrestInit(void)  __attribute__((__crest_skip__)) ;
extern void __CrestHandleReturn(int id , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestReturn(int id )  __attribute__((__crest_skip__)) ;
extern void __CrestCall(int id , unsigned int fid )  __attribute__((__crest_skip__)) ;
extern void __CrestBranch(int id , int bid , unsigned char b )  __attribute__((__crest_skip__)) ;
extern void __CrestApply2(int id , int op , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestApply1(int id , int op , long long val )  __attribute__((__crest_skip__)) ;
extern void __CrestClearStack(int id )  __attribute__((__crest_skip__)) ;
extern void __CrestStore(int id , unsigned long addr )  __attribute__((__crest_skip__)) ;
extern void __CrestLoad(int id , unsigned long addr , long long val )  __attribute__((__crest_skip__)) ;
#line 131 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off_t;
#line 132 "/usr/include/x86_64-linux-gnu/bits/types.h"
typedef long __off64_t;
#line 212 "/usr/lib/gcc/x86_64-linux-gnu/4.8/include/stddef.h"
typedef unsigned long size_t;
#line 44 "/usr/include/stdio.h"
struct _IO_FILE;
#line 44
struct _IO_FILE;
#line 48 "/usr/include/stdio.h"
typedef struct _IO_FILE FILE;
#line 144 "/usr/include/libio.h"
struct _IO_FILE;
#line 154 "/usr/include/libio.h"
typedef void _IO_lock_t;
#line 160 "/usr/include/libio.h"
struct _IO_marker {
   struct _IO_marker *_next ;
   struct _IO_FILE *_sbuf ;
   int _pos ;
};
#line 245 "/usr/include/libio.h"
struct _IO_FILE {
   int _flags ;
   char *_IO_read_ptr ;
   char *_IO_read_end ;
   char *_IO_read_base ;
   char *_IO_write_base ;
   char *_IO_write_ptr ;
   char *_IO_write_end ;
   char *_IO_buf_base ;
   char *_IO_buf_end ;
   char *_IO_save_base ;
   char *_IO_backup_base ;
   char *_IO_save_end ;
   struct _IO_marker *_markers ;
   struct _IO_FILE *_chain ;
   int _fileno ;
   int _flags2 ;
   __off_t _old_offset ;
   unsigned short _cur_column ;
   signed char _vtable_offset ;
   char _shortbuf[1] ;
   _IO_lock_t *_lock ;
   __off64_t _offset ;
   void *__pad1 ;
   void *__pad2 ;
   void *__pad3 ;
   void *__pad4 ;
   size_t __pad5 ;
   int _mode ;
   char _unused2[(15UL * sizeof(int ) - 4UL * sizeof(void *)) - sizeof(size_t )] ;
};
#line 11 "replace.c"
typedef char bool;
#line 40 "replace.c"
typedef char character;
#line 41 "replace.c"
typedef char string[100];
#line 79 "/usr/include/ctype.h"
extern  __attribute__((__nothrow__)) unsigned short const   **( __attribute__((__leaf__)) __ctype_b_loc)(void)  __attribute__((__const__)) ;
#line 169 "/usr/include/stdio.h"
extern struct _IO_FILE *stdout ;
#line 356
extern int fprintf(FILE * __restrict  __stream , char const   * __restrict  __format 
                   , ...) ;
#line 573
extern int fputc(int __c , FILE *__stream ) ;
#line 515 "/usr/include/stdlib.h"
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) abort)(void) ;
#line 543
extern  __attribute__((__nothrow__, __noreturn__)) void ( __attribute__((__leaf__)) exit)(int __status ) ;
#line 200 "../bin/../include/crest.h"
extern void __CrestChar(char *x )  __attribute__((__crest_skip__)) ;
#line 9 "replace.c"
void Caseerror(int n ) ;
#line 43 "replace.c"
bool getline2(char *s , int maxsize ) 
{ 
  int i ;
  char *mem_4 ;
  bool __retres5 ;

  {
  __CrestCall(2, 1);
  __CrestStore(1, (unsigned long )(& maxsize));
  __CrestLoad(3, (unsigned long )0, (long long )0);
  __CrestStore(4, (unsigned long )(& i));
#line 49
  i = 0;
  {
  {
  __CrestLoad(7, (unsigned long )(& i), (long long )i);
  __CrestLoad(6, (unsigned long )0, (long long )19);
  __CrestApply2(5, 16, (long long )(i < 19));
  if (i < 19) {
    __CrestBranch(8, 4, 1);
    __CrestChar(s + i);
    __CrestLoad(12, (unsigned long )(& i), (long long )i);
    __CrestLoad(11, (unsigned long )0, (long long )1);
    __CrestApply2(10, 0, (long long )(i + 1));
    __CrestStore(13, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(9, 5, 0);

  }
  }
  {
  __CrestLoad(16, (unsigned long )(& i), (long long )i);
  __CrestLoad(15, (unsigned long )0, (long long )19);
  __CrestApply2(14, 16, (long long )(i < 19));
  if (i < 19) {
    __CrestBranch(17, 7, 1);
    __CrestChar(s + i);
    __CrestLoad(21, (unsigned long )(& i), (long long )i);
    __CrestLoad(20, (unsigned long )0, (long long )1);
    __CrestApply2(19, 0, (long long )(i + 1));
    __CrestStore(22, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(18, 8, 0);

  }
  }
  }
#line 52
  mem_4 = s + i;
  __CrestLoad(23, (unsigned long )0, (long long )((char )'\000'));
  __CrestStore(24, (unsigned long )mem_4);
#line 52
  *mem_4 = (char )'\000';
  __CrestLoad(25, (unsigned long )0, (long long )((bool )1));
  __CrestStore(26, (unsigned long )(& __retres5));
#line 53
  __retres5 = (bool )1;
  {
  __CrestLoad(27, (unsigned long )(& __retres5), (long long )__retres5);
  __CrestReturn(28);
#line 43
  return (__retres5);
  }
}
}
#line 56 "replace.c"
int addstr(char c , char *outset , int *j , int maxset ) 
{ 
  bool result ;
  char *mem_6 ;
  int __retres7 ;

  {
  __CrestCall(31, 2);
  __CrestStore(30, (unsigned long )(& maxset));
  __CrestStore(29, (unsigned long )(& c));
  {
  __CrestLoad(34, (unsigned long )j, (long long )*j);
  __CrestLoad(33, (unsigned long )(& maxset), (long long )maxset);
  __CrestApply2(32, 17, (long long )(*j >= maxset));
#line 64
  if (*j >= maxset) {
    __CrestBranch(35, 13, 1);
    __CrestLoad(37, (unsigned long )0, (long long )((bool )0));
    __CrestStore(38, (unsigned long )(& result));
#line 65
    result = (bool )0;
  } else {
    __CrestBranch(36, 14, 0);
#line 67
    mem_6 = outset + *j;
    __CrestLoad(39, (unsigned long )(& c), (long long )c);
    __CrestStore(40, (unsigned long )mem_6);
#line 67
    *mem_6 = c;
    __CrestLoad(43, (unsigned long )j, (long long )*j);
    __CrestLoad(42, (unsigned long )0, (long long )1);
    __CrestApply2(41, 0, (long long )(*j + 1));
    __CrestStore(44, (unsigned long )j);
#line 68
    (*j) ++;
    __CrestLoad(45, (unsigned long )0, (long long )((bool )1));
    __CrestStore(46, (unsigned long )(& result));
#line 69
    result = (bool )1;
  }
  }
  __CrestLoad(47, (unsigned long )(& result), (long long )result);
  __CrestStore(48, (unsigned long )(& __retres7));
#line 71
  __retres7 = (int )result;
  {
  __CrestLoad(49, (unsigned long )(& __retres7), (long long )__retres7);
  __CrestReturn(50);
#line 56
  return (__retres7);
  }
}
}
#line 74 "replace.c"
char esc(char *s , int *i ) 
{ 
  char result ;
  char *mem_4 ;
  char *mem_5 ;
  char *mem_6 ;
  char *mem_7 ;
  char *mem_8 ;
  char *mem_9 ;

  {
  __CrestCall(51, 3);

  {
#line 80
  mem_4 = s + *i;
  {
  __CrestLoad(54, (unsigned long )mem_4, (long long )*mem_4);
  __CrestLoad(53, (unsigned long )0, (long long )64);
  __CrestApply2(52, 13, (long long )((int )*mem_4 != 64));
#line 80
  if ((int )*mem_4 != 64) {
    __CrestBranch(55, 20, 1);
#line 81
    mem_5 = s + *i;
    __CrestLoad(57, (unsigned long )mem_5, (long long )*mem_5);
    __CrestStore(58, (unsigned long )(& result));
#line 81
    result = *mem_5;
  } else {
    __CrestBranch(56, 21, 0);
    {
#line 83
    mem_6 = s + (*i + 1);
    {
    __CrestLoad(61, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(60, (unsigned long )0, (long long )0);
    __CrestApply2(59, 12, (long long )((int )*mem_6 == 0));
#line 83
    if ((int )*mem_6 == 0) {
      __CrestBranch(62, 24, 1);
      __CrestLoad(64, (unsigned long )0, (long long )((char )'@'));
      __CrestStore(65, (unsigned long )(& result));
#line 84
      result = (char )'@';
    } else {
      __CrestBranch(63, 25, 0);
      __CrestLoad(68, (unsigned long )i, (long long )*i);
      __CrestLoad(67, (unsigned long )0, (long long )1);
      __CrestApply2(66, 0, (long long )(*i + 1));
      __CrestStore(69, (unsigned long )i);
#line 87
      (*i) ++;
      {
#line 88
      mem_7 = s + *i;
      {
      __CrestLoad(72, (unsigned long )mem_7, (long long )*mem_7);
      __CrestLoad(71, (unsigned long )0, (long long )110);
      __CrestApply2(70, 12, (long long )((int )*mem_7 == 110));
#line 88
      if ((int )*mem_7 == 110) {
        __CrestBranch(73, 29, 1);
        __CrestLoad(75, (unsigned long )0, (long long )(char)10);
        __CrestStore(76, (unsigned long )(& result));
#line 89
        result = (char)10;
      } else {
        __CrestBranch(74, 30, 0);
        {
#line 91
        mem_8 = s + *i;
        {
        __CrestLoad(79, (unsigned long )mem_8, (long long )*mem_8);
        __CrestLoad(78, (unsigned long )0, (long long )116);
        __CrestApply2(77, 12, (long long )((int )*mem_8 == 116));
#line 91
        if ((int )*mem_8 == 116) {
          __CrestBranch(80, 33, 1);
          __CrestLoad(82, (unsigned long )0, (long long )(char)9);
          __CrestStore(83, (unsigned long )(& result));
#line 92
          result = (char)9;
        } else {
          __CrestBranch(81, 34, 0);
#line 94
          mem_9 = s + *i;
          __CrestLoad(84, (unsigned long )mem_9, (long long )*mem_9);
          __CrestStore(85, (unsigned long )(& result));
#line 94
          result = *mem_9;
        }
        }
        }
      }
      }
      }
    }
    }
    }
  }
  }
  }
  {
  __CrestLoad(86, (unsigned long )(& result), (long long )result);
  __CrestReturn(87);
#line 96
  return (result);
  }
}
}
#line 99
void change(char *pat , char *sub ) ;
#line 101 "replace.c"
void dodash(char delim , char *src , int *i , char *dest , int *j , int maxset ) 
{ 
  int k ;
  bool junk ;
  char escjunk ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  unsigned short const   **tmp___4 ;
  unsigned short const   **tmp___5 ;
  char *mem_17 ;
  char *mem_18 ;
  char *mem_19 ;
  char *mem_20 ;
  char *mem_21 ;
  char *mem_22 ;
  char *mem_23 ;
  unsigned short const   *mem_24 ;
  char *mem_25 ;
  unsigned short const   *mem_26 ;
  char *mem_27 ;
  char *mem_28 ;
  char *mem_29 ;
  char *mem_30 ;
  char *mem_31 ;
  char *mem_32 ;
  char *mem_33 ;
  char *mem_34 ;
  char *mem_35 ;
  char *mem_36 ;
  char *mem_37 ;
  char *mem_38 ;
  unsigned short const   *mem_39 ;
  char *mem_40 ;
  unsigned short const   *mem_41 ;
  char *mem_42 ;
  char *mem_43 ;
  char *mem_44 ;
  char *mem_45 ;
  char *mem_46 ;

  {
  __CrestCall(90, 4);
  __CrestStore(89, (unsigned long )(& maxset));
  __CrestStore(88, (unsigned long )(& delim));
  {
  {
  mem_17 = src + *i;
  {
  __CrestLoad(93, (unsigned long )mem_17, (long long )*mem_17);
  __CrestLoad(92, (unsigned long )(& delim), (long long )delim);
  __CrestApply2(91, 13, (long long )((int )*mem_17 != (int )delim));
  if ((int )*mem_17 != (int )delim) {
    __CrestBranch(94, 40, 1);
    {
    mem_18 = src + *i;
    {
    __CrestLoad(98, (unsigned long )mem_18, (long long )*mem_18);
    __CrestLoad(97, (unsigned long )0, (long long )0);
    __CrestApply2(96, 13, (long long )((int )*mem_18 != 0));
    if ((int )*mem_18 != 0) {
      __CrestBranch(99, 43, 1);
      {
      mem_19 = src + (*i - 1);
      {
      __CrestLoad(103, (unsigned long )mem_19, (long long )*mem_19);
      __CrestLoad(102, (unsigned long )0, (long long )64);
      __CrestApply2(101, 12, (long long )((int )*mem_19 == 64));
      if ((int )*mem_19 == 64) {
        __CrestBranch(104, 46, 1);
        escjunk = esc(src, i);
        __CrestHandleReturn(107, (long long )escjunk);
        __CrestStore(106, (unsigned long )(& escjunk));
        __CrestLoad(108, (unsigned long )(& escjunk), (long long )escjunk);
        __CrestLoad(109, (unsigned long )(& maxset), (long long )maxset);
        tmp = addstr(escjunk, dest, j, maxset);
        __CrestHandleReturn(111, (long long )tmp);
        __CrestStore(110, (unsigned long )(& tmp));
        __CrestLoad(112, (unsigned long )(& tmp), (long long )tmp);
        __CrestStore(113, (unsigned long )(& junk));
        junk = (bool )tmp;
      } else {
        __CrestBranch(105, 47, 0);
        {
        mem_20 = src + *i;
        {
        __CrestLoad(116, (unsigned long )mem_20, (long long )*mem_20);
        __CrestLoad(115, (unsigned long )0, (long long )45);
        __CrestApply2(114, 13, (long long )((int )*mem_20 != 45));
        if ((int )*mem_20 != 45) {
          __CrestBranch(117, 50, 1);
          mem_21 = src + *i;
          __CrestLoad(119, (unsigned long )mem_21, (long long )*mem_21);
          __CrestLoad(120, (unsigned long )(& maxset), (long long )maxset);
          tmp___0 = addstr(*mem_21, dest, j, maxset);
          __CrestHandleReturn(122, (long long )tmp___0);
          __CrestStore(121, (unsigned long )(& tmp___0));
          __CrestLoad(123, (unsigned long )(& tmp___0), (long long )tmp___0);
          __CrestStore(124, (unsigned long )(& junk));
          junk = (bool )tmp___0;
        } else {
          __CrestBranch(118, 51, 0);
          {
          __CrestLoad(127, (unsigned long )j, (long long )*j);
          __CrestLoad(126, (unsigned long )0, (long long )1);
          __CrestApply2(125, 15, (long long )(*j <= 1));
          if (*j <= 1) {
            __CrestBranch(128, 52, 1);
            __CrestLoad(130, (unsigned long )0, (long long )((char )'-'));
            __CrestLoad(131, (unsigned long )(& maxset), (long long )maxset);
            tmp___1 = addstr((char )'-', dest, j, maxset);
            __CrestHandleReturn(133, (long long )tmp___1);
            __CrestStore(132, (unsigned long )(& tmp___1));
            __CrestLoad(134, (unsigned long )(& tmp___1), (long long )tmp___1);
            __CrestStore(135, (unsigned long )(& junk));
            junk = (bool )tmp___1;
          } else {
            __CrestBranch(129, 53, 0);
            {
            mem_22 = src + (*i + 1);
            {
            __CrestLoad(138, (unsigned long )mem_22, (long long )*mem_22);
            __CrestLoad(137, (unsigned long )0, (long long )0);
            __CrestApply2(136, 12, (long long )((int )*mem_22 == 0));
            if ((int )*mem_22 == 0) {
              __CrestBranch(139, 56, 1);
              __CrestLoad(141, (unsigned long )0, (long long )((char )'-'));
              __CrestLoad(142, (unsigned long )(& maxset), (long long )maxset);
              tmp___1 = addstr((char )'-', dest, j, maxset);
              __CrestHandleReturn(144, (long long )tmp___1);
              __CrestStore(143, (unsigned long )(& tmp___1));
              __CrestLoad(145, (unsigned long )(& tmp___1), (long long )tmp___1);
              __CrestStore(146, (unsigned long )(& junk));
              junk = (bool )tmp___1;
            } else {
              __CrestBranch(140, 57, 0);
              tmp___4 = __ctype_b_loc();
              __CrestClearStack(147);
              {
              mem_23 = src + (*i - 1);
              mem_24 = *tmp___4 + (int )*mem_23;
              {
              __CrestLoad(152, (unsigned long )mem_24, (long long )*mem_24);
              __CrestLoad(151, (unsigned long )0, (long long )8);
              __CrestApply2(150, 5, (long long )((int const   )*mem_24 & 8));
              __CrestLoad(149, (unsigned long )0, (long long )0);
              __CrestApply2(148, 13, (long long )(((int const   )*mem_24 & 8) != 0));
              if (((int const   )*mem_24 & 8) != 0) {
                __CrestBranch(153, 61, 1);
                tmp___5 = __ctype_b_loc();
                __CrestClearStack(155);
                {
                mem_25 = src + (*i + 1);
                mem_26 = *tmp___5 + (int )*mem_25;
                {
                __CrestLoad(160, (unsigned long )mem_26, (long long )*mem_26);
                __CrestLoad(159, (unsigned long )0, (long long )8);
                __CrestApply2(158, 5, (long long )((int const   )*mem_26 & 8));
                __CrestLoad(157, (unsigned long )0, (long long )0);
                __CrestApply2(156, 13, (long long )(((int const   )*mem_26 & 8) != 0));
                if (((int const   )*mem_26 & 8) != 0) {
                  __CrestBranch(161, 65, 1);
                  {
                  mem_27 = src + (*i - 1);
                  mem_28 = src + (*i + 1);
                  {
                  __CrestLoad(165, (unsigned long )mem_27, (long long )*mem_27);
                  __CrestLoad(164, (unsigned long )mem_28, (long long )*mem_28);
                  __CrestApply2(163, 15, (long long )((int )*mem_27 <= (int )*mem_28));
                  if ((int )*mem_27 <= (int )*mem_28) {
                    __CrestBranch(166, 68, 1);
                    mem_29 = src + (*i - 1);
                    __CrestLoad(170, (unsigned long )mem_29, (long long )*mem_29);
                    __CrestLoad(169, (unsigned long )0, (long long )1);
                    __CrestApply2(168, 0, (long long )((int )*mem_29 + 1));
                    __CrestStore(171, (unsigned long )(& k));
                    k = (int )*mem_29 + 1;
                    {
                    {
                    mem_30 = src + (*i + 1);
                    {
                    __CrestLoad(174, (unsigned long )(& k), (long long )k);
                    __CrestLoad(173, (unsigned long )mem_30, (long long )*mem_30);
                    __CrestApply2(172, 15, (long long )(k <= (int )*mem_30));
                    if (k <= (int )*mem_30) {
                      __CrestBranch(175, 73, 1);
                      __CrestLoad(177, (unsigned long )(& k), (long long )k);
                      __CrestLoad(178, (unsigned long )(& maxset), (long long )maxset);
                      tmp___2 = addstr((char )k, dest, j, maxset);
                      __CrestHandleReturn(180, (long long )tmp___2);
                      __CrestStore(179, (unsigned long )(& tmp___2));
                      __CrestLoad(181, (unsigned long )(& tmp___2), (long long )tmp___2);
                      __CrestStore(182, (unsigned long )(& junk));
                      junk = (bool )tmp___2;
                      __CrestLoad(185, (unsigned long )(& k), (long long )k);
                      __CrestLoad(184, (unsigned long )0, (long long )1);
                      __CrestApply2(183, 0, (long long )(k + 1));
                      __CrestStore(186, (unsigned long )(& k));
                      k ++;
                    } else {
                      __CrestBranch(176, 74, 0);

                    }
                    }
                    }
                    {
                    mem_31 = src + (*i + 1);
                    {
                    __CrestLoad(189, (unsigned long )(& k), (long long )k);
                    __CrestLoad(188, (unsigned long )mem_31, (long long )*mem_31);
                    __CrestApply2(187, 15, (long long )(k <= (int )*mem_31));
                    if (k <= (int )*mem_31) {
                      __CrestBranch(190, 78, 1);
                      __CrestLoad(192, (unsigned long )(& k), (long long )k);
                      __CrestLoad(193, (unsigned long )(& maxset), (long long )maxset);
                      tmp___2 = addstr((char )k, dest, j, maxset);
                      __CrestHandleReturn(195, (long long )tmp___2);
                      __CrestStore(194, (unsigned long )(& tmp___2));
                      __CrestLoad(196, (unsigned long )(& tmp___2), (long long )tmp___2);
                      __CrestStore(197, (unsigned long )(& junk));
                      junk = (bool )tmp___2;
                      __CrestLoad(200, (unsigned long )(& k), (long long )k);
                      __CrestLoad(199, (unsigned long )0, (long long )1);
                      __CrestApply2(198, 0, (long long )(k + 1));
                      __CrestStore(201, (unsigned long )(& k));
                      k ++;
                    } else {
                      __CrestBranch(191, 79, 0);

                    }
                    }
                    }
                    }
                    __CrestLoad(204, (unsigned long )i, (long long )*i);
                    __CrestLoad(203, (unsigned long )0, (long long )1);
                    __CrestApply2(202, 0, (long long )(*i + 1));
                    __CrestStore(205, (unsigned long )i);
                    (*i) ++;
                  } else {
                    __CrestBranch(167, 81, 0);
                    __CrestLoad(206, (unsigned long )0, (long long )((char )'-'));
                    __CrestLoad(207, (unsigned long )(& maxset), (long long )maxset);
                    tmp___3 = addstr((char )'-', dest, j, maxset);
                    __CrestHandleReturn(209, (long long )tmp___3);
                    __CrestStore(208, (unsigned long )(& tmp___3));
                    __CrestLoad(210, (unsigned long )(& tmp___3), (long long )tmp___3);
                    __CrestStore(211, (unsigned long )(& junk));
                    junk = (bool )tmp___3;
                  }
                  }
                  }
                } else {
                  __CrestBranch(162, 82, 0);
                  __CrestLoad(212, (unsigned long )0, (long long )((char )'-'));
                  __CrestLoad(213, (unsigned long )(& maxset), (long long )maxset);
                  tmp___3 = addstr((char )'-', dest, j, maxset);
                  __CrestHandleReturn(215, (long long )tmp___3);
                  __CrestStore(214, (unsigned long )(& tmp___3));
                  __CrestLoad(216, (unsigned long )(& tmp___3), (long long )tmp___3);
                  __CrestStore(217, (unsigned long )(& junk));
                  junk = (bool )tmp___3;
                }
                }
                }
              } else {
                __CrestBranch(154, 83, 0);
                __CrestLoad(218, (unsigned long )0, (long long )((char )'-'));
                __CrestLoad(219, (unsigned long )(& maxset), (long long )maxset);
                tmp___3 = addstr((char )'-', dest, j, maxset);
                __CrestHandleReturn(221, (long long )tmp___3);
                __CrestStore(220, (unsigned long )(& tmp___3));
                __CrestLoad(222, (unsigned long )(& tmp___3), (long long )tmp___3);
                __CrestStore(223, (unsigned long )(& junk));
                junk = (bool )tmp___3;
              }
              }
              }
            }
            }
            }
          }
          }
        }
        }
        }
      }
      }
      }
      __CrestLoad(226, (unsigned long )i, (long long )*i);
      __CrestLoad(225, (unsigned long )0, (long long )1);
      __CrestApply2(224, 0, (long long )(*i + 1));
      __CrestStore(227, (unsigned long )i);
      (*i) ++;
    } else {
      __CrestBranch(100, 85, 0);

    }
    }
    }
  } else {
    __CrestBranch(95, 86, 0);

  }
  }
  }
  {
  mem_32 = src + *i;
  {
  __CrestLoad(230, (unsigned long )mem_32, (long long )*mem_32);
  __CrestLoad(229, (unsigned long )(& delim), (long long )delim);
  __CrestApply2(228, 13, (long long )((int )*mem_32 != (int )delim));
  if ((int )*mem_32 != (int )delim) {
    __CrestBranch(231, 90, 1);
    {
    mem_33 = src + *i;
    {
    __CrestLoad(235, (unsigned long )mem_33, (long long )*mem_33);
    __CrestLoad(234, (unsigned long )0, (long long )0);
    __CrestApply2(233, 13, (long long )((int )*mem_33 != 0));
    if ((int )*mem_33 != 0) {
      __CrestBranch(236, 93, 1);
      {
      mem_34 = src + (*i - 1);
      {
      __CrestLoad(240, (unsigned long )mem_34, (long long )*mem_34);
      __CrestLoad(239, (unsigned long )0, (long long )64);
      __CrestApply2(238, 12, (long long )((int )*mem_34 == 64));
      if ((int )*mem_34 == 64) {
        __CrestBranch(241, 96, 1);
        escjunk = esc(src, i);
        __CrestHandleReturn(244, (long long )escjunk);
        __CrestStore(243, (unsigned long )(& escjunk));
        __CrestLoad(245, (unsigned long )(& escjunk), (long long )escjunk);
        __CrestLoad(246, (unsigned long )(& maxset), (long long )maxset);
        tmp = addstr(escjunk, dest, j, maxset);
        __CrestHandleReturn(248, (long long )tmp);
        __CrestStore(247, (unsigned long )(& tmp));
        __CrestLoad(249, (unsigned long )(& tmp), (long long )tmp);
        __CrestStore(250, (unsigned long )(& junk));
        junk = (bool )tmp;
      } else {
        __CrestBranch(242, 97, 0);
        {
        mem_35 = src + *i;
        {
        __CrestLoad(253, (unsigned long )mem_35, (long long )*mem_35);
        __CrestLoad(252, (unsigned long )0, (long long )45);
        __CrestApply2(251, 13, (long long )((int )*mem_35 != 45));
        if ((int )*mem_35 != 45) {
          __CrestBranch(254, 100, 1);
          mem_36 = src + *i;
          __CrestLoad(256, (unsigned long )mem_36, (long long )*mem_36);
          __CrestLoad(257, (unsigned long )(& maxset), (long long )maxset);
          tmp___0 = addstr(*mem_36, dest, j, maxset);
          __CrestHandleReturn(259, (long long )tmp___0);
          __CrestStore(258, (unsigned long )(& tmp___0));
          __CrestLoad(260, (unsigned long )(& tmp___0), (long long )tmp___0);
          __CrestStore(261, (unsigned long )(& junk));
          junk = (bool )tmp___0;
        } else {
          __CrestBranch(255, 101, 0);
          {
          __CrestLoad(264, (unsigned long )j, (long long )*j);
          __CrestLoad(263, (unsigned long )0, (long long )1);
          __CrestApply2(262, 15, (long long )(*j <= 1));
          if (*j <= 1) {
            __CrestBranch(265, 102, 1);
            __CrestLoad(267, (unsigned long )0, (long long )((char )'-'));
            __CrestLoad(268, (unsigned long )(& maxset), (long long )maxset);
            tmp___1 = addstr((char )'-', dest, j, maxset);
            __CrestHandleReturn(270, (long long )tmp___1);
            __CrestStore(269, (unsigned long )(& tmp___1));
            __CrestLoad(271, (unsigned long )(& tmp___1), (long long )tmp___1);
            __CrestStore(272, (unsigned long )(& junk));
            junk = (bool )tmp___1;
          } else {
            __CrestBranch(266, 103, 0);
            {
            mem_37 = src + (*i + 1);
            {
            __CrestLoad(275, (unsigned long )mem_37, (long long )*mem_37);
            __CrestLoad(274, (unsigned long )0, (long long )0);
            __CrestApply2(273, 12, (long long )((int )*mem_37 == 0));
            if ((int )*mem_37 == 0) {
              __CrestBranch(276, 106, 1);
              __CrestLoad(278, (unsigned long )0, (long long )((char )'-'));
              __CrestLoad(279, (unsigned long )(& maxset), (long long )maxset);
              tmp___1 = addstr((char )'-', dest, j, maxset);
              __CrestHandleReturn(281, (long long )tmp___1);
              __CrestStore(280, (unsigned long )(& tmp___1));
              __CrestLoad(282, (unsigned long )(& tmp___1), (long long )tmp___1);
              __CrestStore(283, (unsigned long )(& junk));
              junk = (bool )tmp___1;
            } else {
              __CrestBranch(277, 107, 0);
              tmp___4 = __ctype_b_loc();
              __CrestClearStack(284);
              {
              mem_38 = src + (*i - 1);
              mem_39 = *tmp___4 + (int )*mem_38;
              {
              __CrestLoad(289, (unsigned long )mem_39, (long long )*mem_39);
              __CrestLoad(288, (unsigned long )0, (long long )8);
              __CrestApply2(287, 5, (long long )((int const   )*mem_39 & 8));
              __CrestLoad(286, (unsigned long )0, (long long )0);
              __CrestApply2(285, 13, (long long )(((int const   )*mem_39 & 8) != 0));
              if (((int const   )*mem_39 & 8) != 0) {
                __CrestBranch(290, 111, 1);
                tmp___5 = __ctype_b_loc();
                __CrestClearStack(292);
                {
                mem_40 = src + (*i + 1);
                mem_41 = *tmp___5 + (int )*mem_40;
                {
                __CrestLoad(297, (unsigned long )mem_41, (long long )*mem_41);
                __CrestLoad(296, (unsigned long )0, (long long )8);
                __CrestApply2(295, 5, (long long )((int const   )*mem_41 & 8));
                __CrestLoad(294, (unsigned long )0, (long long )0);
                __CrestApply2(293, 13, (long long )(((int const   )*mem_41 & 8) != 0));
                if (((int const   )*mem_41 & 8) != 0) {
                  __CrestBranch(298, 115, 1);
                  {
                  mem_42 = src + (*i - 1);
                  mem_43 = src + (*i + 1);
                  {
                  __CrestLoad(302, (unsigned long )mem_42, (long long )*mem_42);
                  __CrestLoad(301, (unsigned long )mem_43, (long long )*mem_43);
                  __CrestApply2(300, 15, (long long )((int )*mem_42 <= (int )*mem_43));
                  if ((int )*mem_42 <= (int )*mem_43) {
                    __CrestBranch(303, 118, 1);
                    mem_44 = src + (*i - 1);
                    __CrestLoad(307, (unsigned long )mem_44, (long long )*mem_44);
                    __CrestLoad(306, (unsigned long )0, (long long )1);
                    __CrestApply2(305, 0, (long long )((int )*mem_44 + 1));
                    __CrestStore(308, (unsigned long )(& k));
                    k = (int )*mem_44 + 1;
                    {
                    {
                    mem_45 = src + (*i + 1);
                    {
                    __CrestLoad(311, (unsigned long )(& k), (long long )k);
                    __CrestLoad(310, (unsigned long )mem_45, (long long )*mem_45);
                    __CrestApply2(309, 15, (long long )(k <= (int )*mem_45));
                    if (k <= (int )*mem_45) {
                      __CrestBranch(312, 123, 1);
                      __CrestLoad(314, (unsigned long )(& k), (long long )k);
                      __CrestLoad(315, (unsigned long )(& maxset), (long long )maxset);
                      tmp___2 = addstr((char )k, dest, j, maxset);
                      __CrestHandleReturn(317, (long long )tmp___2);
                      __CrestStore(316, (unsigned long )(& tmp___2));
                      __CrestLoad(318, (unsigned long )(& tmp___2), (long long )tmp___2);
                      __CrestStore(319, (unsigned long )(& junk));
                      junk = (bool )tmp___2;
                      __CrestLoad(322, (unsigned long )(& k), (long long )k);
                      __CrestLoad(321, (unsigned long )0, (long long )1);
                      __CrestApply2(320, 0, (long long )(k + 1));
                      __CrestStore(323, (unsigned long )(& k));
                      k ++;
                    } else {
                      __CrestBranch(313, 124, 0);

                    }
                    }
                    }
                    {
                    mem_46 = src + (*i + 1);
                    {
                    __CrestLoad(326, (unsigned long )(& k), (long long )k);
                    __CrestLoad(325, (unsigned long )mem_46, (long long )*mem_46);
                    __CrestApply2(324, 15, (long long )(k <= (int )*mem_46));
                    if (k <= (int )*mem_46) {
                      __CrestBranch(327, 128, 1);
                      __CrestLoad(329, (unsigned long )(& k), (long long )k);
                      __CrestLoad(330, (unsigned long )(& maxset), (long long )maxset);
                      tmp___2 = addstr((char )k, dest, j, maxset);
                      __CrestHandleReturn(332, (long long )tmp___2);
                      __CrestStore(331, (unsigned long )(& tmp___2));
                      __CrestLoad(333, (unsigned long )(& tmp___2), (long long )tmp___2);
                      __CrestStore(334, (unsigned long )(& junk));
                      junk = (bool )tmp___2;
                      __CrestLoad(337, (unsigned long )(& k), (long long )k);
                      __CrestLoad(336, (unsigned long )0, (long long )1);
                      __CrestApply2(335, 0, (long long )(k + 1));
                      __CrestStore(338, (unsigned long )(& k));
                      k ++;
                    } else {
                      __CrestBranch(328, 129, 0);

                    }
                    }
                    }
                    }
                    __CrestLoad(341, (unsigned long )i, (long long )*i);
                    __CrestLoad(340, (unsigned long )0, (long long )1);
                    __CrestApply2(339, 0, (long long )(*i + 1));
                    __CrestStore(342, (unsigned long )i);
                    (*i) ++;
                  } else {
                    __CrestBranch(304, 131, 0);
                    __CrestLoad(343, (unsigned long )0, (long long )((char )'-'));
                    __CrestLoad(344, (unsigned long )(& maxset), (long long )maxset);
                    tmp___3 = addstr((char )'-', dest, j, maxset);
                    __CrestHandleReturn(346, (long long )tmp___3);
                    __CrestStore(345, (unsigned long )(& tmp___3));
                    __CrestLoad(347, (unsigned long )(& tmp___3), (long long )tmp___3);
                    __CrestStore(348, (unsigned long )(& junk));
                    junk = (bool )tmp___3;
                  }
                  }
                  }
                } else {
                  __CrestBranch(299, 132, 0);
                  __CrestLoad(349, (unsigned long )0, (long long )((char )'-'));
                  __CrestLoad(350, (unsigned long )(& maxset), (long long )maxset);
                  tmp___3 = addstr((char )'-', dest, j, maxset);
                  __CrestHandleReturn(352, (long long )tmp___3);
                  __CrestStore(351, (unsigned long )(& tmp___3));
                  __CrestLoad(353, (unsigned long )(& tmp___3), (long long )tmp___3);
                  __CrestStore(354, (unsigned long )(& junk));
                  junk = (bool )tmp___3;
                }
                }
                }
              } else {
                __CrestBranch(291, 133, 0);
                __CrestLoad(355, (unsigned long )0, (long long )((char )'-'));
                __CrestLoad(356, (unsigned long )(& maxset), (long long )maxset);
                tmp___3 = addstr((char )'-', dest, j, maxset);
                __CrestHandleReturn(358, (long long )tmp___3);
                __CrestStore(357, (unsigned long )(& tmp___3));
                __CrestLoad(359, (unsigned long )(& tmp___3), (long long )tmp___3);
                __CrestStore(360, (unsigned long )(& junk));
                junk = (bool )tmp___3;
              }
              }
              }
            }
            }
            }
          }
          }
        }
        }
        }
      }
      }
      }
      __CrestLoad(363, (unsigned long )i, (long long )*i);
      __CrestLoad(362, (unsigned long )0, (long long )1);
      __CrestApply2(361, 0, (long long )(*i + 1));
      __CrestStore(364, (unsigned long )i);
      (*i) ++;
    } else {
      __CrestBranch(237, 135, 0);

    }
    }
    }
  } else {
    __CrestBranch(232, 136, 0);

  }
  }
  }
  }

  {
  __CrestReturn(365);
#line 101
  return;
  }
}
}
#line 139 "replace.c"
bool getccl(char *arg , int *i , char *pat , int *j ) 
{ 
  int jstart ;
  bool junk ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *mem_10 ;
  char *mem_11 ;
  char *mem_12 ;
  bool __retres13 ;

  {
  __CrestCall(366, 5);

  __CrestLoad(369, (unsigned long )i, (long long )*i);
  __CrestLoad(368, (unsigned long )0, (long long )1);
  __CrestApply2(367, 0, (long long )(*i + 1));
  __CrestStore(370, (unsigned long )i);
#line 149
  (*i) ++;
  {
#line 150
  mem_10 = arg + *i;
  {
  __CrestLoad(373, (unsigned long )mem_10, (long long )*mem_10);
  __CrestLoad(372, (unsigned long )0, (long long )94);
  __CrestApply2(371, 12, (long long )((int )*mem_10 == 94));
#line 150
  if ((int )*mem_10 == 94) {
    __CrestBranch(374, 143, 1);
    __CrestLoad(376, (unsigned long )0, (long long )((char )'!'));
    __CrestLoad(377, (unsigned long )0, (long long )100);
#line 151
    tmp = addstr((char )'!', pat, j, 100);
    __CrestHandleReturn(379, (long long )tmp);
    __CrestStore(378, (unsigned long )(& tmp));
    __CrestLoad(380, (unsigned long )(& tmp), (long long )tmp);
    __CrestStore(381, (unsigned long )(& junk));
#line 151
    junk = (bool )tmp;
    __CrestLoad(384, (unsigned long )i, (long long )*i);
    __CrestLoad(383, (unsigned long )0, (long long )1);
    __CrestApply2(382, 0, (long long )(*i + 1));
    __CrestStore(385, (unsigned long )i);
#line 152
    (*i) ++;
  } else {
    __CrestBranch(375, 144, 0);
    __CrestLoad(386, (unsigned long )0, (long long )((char )'['));
    __CrestLoad(387, (unsigned long )0, (long long )100);
#line 154
    tmp___0 = addstr((char )'[', pat, j, 100);
    __CrestHandleReturn(389, (long long )tmp___0);
    __CrestStore(388, (unsigned long )(& tmp___0));
    __CrestLoad(390, (unsigned long )(& tmp___0), (long long )tmp___0);
    __CrestStore(391, (unsigned long )(& junk));
#line 154
    junk = (bool )tmp___0;
  }
  }
  }
  __CrestLoad(392, (unsigned long )j, (long long )*j);
  __CrestStore(393, (unsigned long )(& jstart));
#line 155
  jstart = *j;
  __CrestLoad(394, (unsigned long )0, (long long )(char)0);
  __CrestLoad(395, (unsigned long )0, (long long )100);
#line 156
  tmp___1 = addstr((char)0, pat, j, 100);
  __CrestHandleReturn(397, (long long )tmp___1);
  __CrestStore(396, (unsigned long )(& tmp___1));
  __CrestLoad(398, (unsigned long )(& tmp___1), (long long )tmp___1);
  __CrestStore(399, (unsigned long )(& junk));
#line 156
  junk = (bool )tmp___1;
  __CrestLoad(400, (unsigned long )0, (long long )((char )']'));
  __CrestLoad(401, (unsigned long )0, (long long )100);
#line 157
  dodash((char )']', arg, i, pat, j, 100);
  __CrestClearStack(402);
#line 158
  mem_11 = pat + jstart;
  __CrestLoad(407, (unsigned long )j, (long long )*j);
  __CrestLoad(406, (unsigned long )(& jstart), (long long )jstart);
  __CrestApply2(405, 1, (long long )(*j - jstart));
  __CrestLoad(404, (unsigned long )0, (long long )1);
  __CrestApply2(403, 1, (long long )((*j - jstart) - 1));
  __CrestStore(408, (unsigned long )mem_11);
#line 158
  *mem_11 = (char )((*j - jstart) - 1);
  {
#line 159
  mem_12 = arg + *i;
  __CrestLoad(411, (unsigned long )mem_12, (long long )*mem_12);
  __CrestLoad(410, (unsigned long )0, (long long )93);
  __CrestApply2(409, 12, (long long )((int )*mem_12 == 93));
  __CrestStore(412, (unsigned long )(& __retres13));
#line 159
  __retres13 = (bool )((int )*mem_12 == 93);
#line 159
  goto return_label;
  }
  return_label: /* CIL Label */ 
  {
  __CrestLoad(413, (unsigned long )(& __retres13), (long long )__retres13);
  __CrestReturn(414);
#line 139
  return (__retres13);
  }
}
}
#line 162 "replace.c"
void stclose(char *pat , int *j , int lastj ) 
{ 
  int jt ;
  int jp ;
  bool junk ;
  int tmp ;
  char *mem_8 ;
  char *mem_9 ;
  char *mem_10 ;

  {
  __CrestCall(416, 6);
  __CrestStore(415, (unsigned long )(& lastj));
  __CrestLoad(419, (unsigned long )j, (long long )*j);
  __CrestLoad(418, (unsigned long )0, (long long )1);
  __CrestApply2(417, 1, (long long )(*j - 1));
  __CrestStore(420, (unsigned long )(& jp));
#line 173
  jp = *j - 1;
  {
  {
  __CrestLoad(423, (unsigned long )(& jp), (long long )jp);
  __CrestLoad(422, (unsigned long )(& lastj), (long long )lastj);
  __CrestApply2(421, 17, (long long )(jp >= lastj));
  if (jp >= lastj) {
    __CrestBranch(424, 154, 1);
    __CrestLoad(428, (unsigned long )(& jp), (long long )jp);
    __CrestLoad(427, (unsigned long )0, (long long )1);
    __CrestApply2(426, 0, (long long )(jp + 1));
    __CrestStore(429, (unsigned long )(& jt));
    jt = jp + 1;
    mem_8 = pat + jp;
    __CrestLoad(430, (unsigned long )mem_8, (long long )*mem_8);
    __CrestLoad(431, (unsigned long )0, (long long )100);
    tmp = addstr(*mem_8, pat, & jt, 100);
    __CrestHandleReturn(433, (long long )tmp);
    __CrestStore(432, (unsigned long )(& tmp));
    __CrestLoad(434, (unsigned long )(& tmp), (long long )tmp);
    __CrestStore(435, (unsigned long )(& junk));
    junk = (bool )tmp;
    __CrestLoad(438, (unsigned long )(& jp), (long long )jp);
    __CrestLoad(437, (unsigned long )0, (long long )1);
    __CrestApply2(436, 1, (long long )(jp - 1));
    __CrestStore(439, (unsigned long )(& jp));
    jp --;
  } else {
    __CrestBranch(425, 155, 0);

  }
  }
  {
  __CrestLoad(442, (unsigned long )(& jp), (long long )jp);
  __CrestLoad(441, (unsigned long )(& lastj), (long long )lastj);
  __CrestApply2(440, 17, (long long )(jp >= lastj));
  if (jp >= lastj) {
    __CrestBranch(443, 157, 1);
    __CrestLoad(447, (unsigned long )(& jp), (long long )jp);
    __CrestLoad(446, (unsigned long )0, (long long )1);
    __CrestApply2(445, 0, (long long )(jp + 1));
    __CrestStore(448, (unsigned long )(& jt));
    jt = jp + 1;
    mem_9 = pat + jp;
    __CrestLoad(449, (unsigned long )mem_9, (long long )*mem_9);
    __CrestLoad(450, (unsigned long )0, (long long )100);
    tmp = addstr(*mem_9, pat, & jt, 100);
    __CrestHandleReturn(452, (long long )tmp);
    __CrestStore(451, (unsigned long )(& tmp));
    __CrestLoad(453, (unsigned long )(& tmp), (long long )tmp);
    __CrestStore(454, (unsigned long )(& junk));
    junk = (bool )tmp;
    __CrestLoad(457, (unsigned long )(& jp), (long long )jp);
    __CrestLoad(456, (unsigned long )0, (long long )1);
    __CrestApply2(455, 1, (long long )(jp - 1));
    __CrestStore(458, (unsigned long )(& jp));
    jp --;
  } else {
    __CrestBranch(444, 158, 0);

  }
  }
  }
  __CrestLoad(461, (unsigned long )j, (long long )*j);
  __CrestLoad(460, (unsigned long )0, (long long )1);
  __CrestApply2(459, 0, (long long )(*j + 1));
  __CrestStore(462, (unsigned long )j);
#line 178
  (*j) ++;
#line 179
  mem_10 = pat + lastj;
  __CrestLoad(463, (unsigned long )0, (long long )((char )'*'));
  __CrestStore(464, (unsigned long )mem_10);
#line 179
  *mem_10 = (char )'*';

  {
  __CrestReturn(465);
#line 162
  return;
  }
}
}
#line 182 "replace.c"
bool in_set_2(char c ) 
{ 
  int tmp ;
  bool __retres3 ;

  {
  __CrestCall(467, 7);
  __CrestStore(466, (unsigned long )(& c));
  {
  __CrestLoad(470, (unsigned long )(& c), (long long )c);
  __CrestLoad(469, (unsigned long )0, (long long )37);
  __CrestApply2(468, 12, (long long )((int )c == 37));
#line 185
  if ((int )c == 37) {
    __CrestBranch(471, 163, 1);
    __CrestLoad(473, (unsigned long )0, (long long )1);
    __CrestStore(474, (unsigned long )(& tmp));
#line 185
    tmp = 1;
  } else {
    __CrestBranch(472, 164, 0);
    {
    __CrestLoad(477, (unsigned long )(& c), (long long )c);
    __CrestLoad(476, (unsigned long )0, (long long )36);
    __CrestApply2(475, 12, (long long )((int )c == 36));
#line 185
    if ((int )c == 36) {
      __CrestBranch(478, 165, 1);
      __CrestLoad(480, (unsigned long )0, (long long )1);
      __CrestStore(481, (unsigned long )(& tmp));
#line 185
      tmp = 1;
    } else {
      __CrestBranch(479, 166, 0);
      {
      __CrestLoad(484, (unsigned long )(& c), (long long )c);
      __CrestLoad(483, (unsigned long )0, (long long )42);
      __CrestApply2(482, 12, (long long )((int )c == 42));
#line 185
      if ((int )c == 42) {
        __CrestBranch(485, 167, 1);
        __CrestLoad(487, (unsigned long )0, (long long )1);
        __CrestStore(488, (unsigned long )(& tmp));
#line 185
        tmp = 1;
      } else {
        __CrestBranch(486, 168, 0);
        __CrestLoad(489, (unsigned long )0, (long long )0);
        __CrestStore(490, (unsigned long )(& tmp));
#line 185
        tmp = 0;
      }
      }
    }
    }
  }
  }
  __CrestLoad(491, (unsigned long )(& tmp), (long long )tmp);
  __CrestStore(492, (unsigned long )(& __retres3));
#line 185
  __retres3 = (bool )tmp;
  {
  __CrestLoad(493, (unsigned long )(& __retres3), (long long )__retres3);
  __CrestReturn(494);
#line 182
  return (__retres3);
  }
}
}
#line 188 "replace.c"
bool in_pat_set(char c ) 
{ 
  int tmp ;
  bool __retres3 ;

  {
  __CrestCall(496, 8);
  __CrestStore(495, (unsigned long )(& c));
  {
  __CrestLoad(499, (unsigned long )(& c), (long long )c);
  __CrestLoad(498, (unsigned long )0, (long long )99);
  __CrestApply2(497, 12, (long long )((int )c == 99));
#line 191
  if ((int )c == 99) {
    __CrestBranch(500, 172, 1);
    __CrestLoad(502, (unsigned long )0, (long long )1);
    __CrestStore(503, (unsigned long )(& tmp));
#line 191
    tmp = 1;
  } else {
    __CrestBranch(501, 173, 0);
    {
    __CrestLoad(506, (unsigned long )(& c), (long long )c);
    __CrestLoad(505, (unsigned long )0, (long long )37);
    __CrestApply2(504, 12, (long long )((int )c == 37));
#line 191
    if ((int )c == 37) {
      __CrestBranch(507, 174, 1);
      __CrestLoad(509, (unsigned long )0, (long long )1);
      __CrestStore(510, (unsigned long )(& tmp));
#line 191
      tmp = 1;
    } else {
      __CrestBranch(508, 175, 0);
      {
      __CrestLoad(513, (unsigned long )(& c), (long long )c);
      __CrestLoad(512, (unsigned long )0, (long long )36);
      __CrestApply2(511, 12, (long long )((int )c == 36));
#line 191
      if ((int )c == 36) {
        __CrestBranch(514, 176, 1);
        __CrestLoad(516, (unsigned long )0, (long long )1);
        __CrestStore(517, (unsigned long )(& tmp));
#line 191
        tmp = 1;
      } else {
        __CrestBranch(515, 177, 0);
        {
        __CrestLoad(520, (unsigned long )(& c), (long long )c);
        __CrestLoad(519, (unsigned long )0, (long long )63);
        __CrestApply2(518, 12, (long long )((int )c == 63));
#line 191
        if ((int )c == 63) {
          __CrestBranch(521, 178, 1);
          __CrestLoad(523, (unsigned long )0, (long long )1);
          __CrestStore(524, (unsigned long )(& tmp));
#line 191
          tmp = 1;
        } else {
          __CrestBranch(522, 179, 0);
          {
          __CrestLoad(527, (unsigned long )(& c), (long long )c);
          __CrestLoad(526, (unsigned long )0, (long long )91);
          __CrestApply2(525, 12, (long long )((int )c == 91));
#line 191
          if ((int )c == 91) {
            __CrestBranch(528, 180, 1);
            __CrestLoad(530, (unsigned long )0, (long long )1);
            __CrestStore(531, (unsigned long )(& tmp));
#line 191
            tmp = 1;
          } else {
            __CrestBranch(529, 181, 0);
            {
            __CrestLoad(534, (unsigned long )(& c), (long long )c);
            __CrestLoad(533, (unsigned long )0, (long long )33);
            __CrestApply2(532, 12, (long long )((int )c == 33));
#line 191
            if ((int )c == 33) {
              __CrestBranch(535, 182, 1);
              __CrestLoad(537, (unsigned long )0, (long long )1);
              __CrestStore(538, (unsigned long )(& tmp));
#line 191
              tmp = 1;
            } else {
              __CrestBranch(536, 183, 0);
              {
              __CrestLoad(541, (unsigned long )(& c), (long long )c);
              __CrestLoad(540, (unsigned long )0, (long long )42);
              __CrestApply2(539, 12, (long long )((int )c == 42));
#line 191
              if ((int )c == 42) {
                __CrestBranch(542, 184, 1);
                __CrestLoad(544, (unsigned long )0, (long long )1);
                __CrestStore(545, (unsigned long )(& tmp));
#line 191
                tmp = 1;
              } else {
                __CrestBranch(543, 185, 0);
                __CrestLoad(546, (unsigned long )0, (long long )0);
                __CrestStore(547, (unsigned long )(& tmp));
#line 191
                tmp = 0;
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  __CrestLoad(548, (unsigned long )(& tmp), (long long )tmp);
  __CrestStore(549, (unsigned long )(& __retres3));
#line 191
  __retres3 = (bool )tmp;
  {
  __CrestLoad(550, (unsigned long )(& __retres3), (long long )__retres3);
  __CrestReturn(551);
#line 188
  return (__retres3);
  }
}
}
#line 195 "replace.c"
int makepat(char *arg , int start , char delim , char *pat ) 
{ 
  int result ;
  int i ;
  int j ;
  int lastj ;
  int lj ;
  bool done ;
  bool junk ;
  bool getres ;
  char escjunk ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  bool tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  char *mem_21 ;
  char *mem_22 ;
  char *mem_23 ;
  char *mem_24 ;
  char *mem_25 ;
  char *mem_26 ;
  char *mem_27 ;
  char *mem_28 ;
  char *mem_29 ;
  char *mem_30 ;
  char *mem_31 ;
  char *mem_32 ;
  char *mem_33 ;
  char *mem_34 ;
  char *mem_35 ;
  char *mem_36 ;
  char *mem_37 ;
  char *mem_38 ;
  char *mem_39 ;

  {
  __CrestCall(554, 9);
  __CrestStore(553, (unsigned long )(& delim));
  __CrestStore(552, (unsigned long )(& start));
  __CrestLoad(555, (unsigned long )0, (long long )0);
  __CrestStore(556, (unsigned long )(& j));
#line 208
  j = 0;
  __CrestLoad(557, (unsigned long )(& start), (long long )start);
  __CrestStore(558, (unsigned long )(& i));
#line 209
  i = start;
  __CrestLoad(559, (unsigned long )0, (long long )0);
  __CrestStore(560, (unsigned long )(& lastj));
#line 210
  lastj = 0;
  __CrestLoad(561, (unsigned long )0, (long long )((bool )0));
  __CrestStore(562, (unsigned long )(& done));
#line 211
  done = (bool )0;
  {
  {
  __CrestLoad(565, (unsigned long )(& done), (long long )done);
  __CrestLoad(564, (unsigned long )0, (long long )0);
  __CrestApply2(563, 12, (long long )(done == 0));
  if (done == 0) {
    __CrestBranch(566, 191, 1);
    {
    mem_21 = arg + i;
    {
    __CrestLoad(570, (unsigned long )mem_21, (long long )*mem_21);
    __CrestLoad(569, (unsigned long )(& delim), (long long )delim);
    __CrestApply2(568, 13, (long long )((int )*mem_21 != (int )delim));
    if ((int )*mem_21 != (int )delim) {
      __CrestBranch(571, 194, 1);
      {
      mem_22 = arg + i;
      {
      __CrestLoad(575, (unsigned long )mem_22, (long long )*mem_22);
      __CrestLoad(574, (unsigned long )0, (long long )0);
      __CrestApply2(573, 13, (long long )((int )*mem_22 != 0));
      if ((int )*mem_22 != 0) {
        __CrestBranch(576, 197, 1);
        __CrestLoad(578, (unsigned long )(& j), (long long )j);
        __CrestStore(579, (unsigned long )(& lj));
        lj = j;
        {
        mem_23 = arg + i;
        {
        __CrestLoad(582, (unsigned long )mem_23, (long long )*mem_23);
        __CrestLoad(581, (unsigned long )0, (long long )63);
        __CrestApply2(580, 12, (long long )((int )*mem_23 == 63));
        if ((int )*mem_23 == 63) {
          __CrestBranch(583, 201, 1);
          __CrestLoad(585, (unsigned long )0, (long long )((char )'?'));
          __CrestLoad(586, (unsigned long )0, (long long )100);
          tmp = addstr((char )'?', pat, & j, 100);
          __CrestHandleReturn(588, (long long )tmp);
          __CrestStore(587, (unsigned long )(& tmp));
          __CrestLoad(589, (unsigned long )(& tmp), (long long )tmp);
          __CrestStore(590, (unsigned long )(& junk));
          junk = (bool )tmp;
        } else {
          __CrestBranch(584, 202, 0);
          {
          mem_24 = arg + i;
          {
          __CrestLoad(593, (unsigned long )mem_24, (long long )*mem_24);
          __CrestLoad(592, (unsigned long )0, (long long )37);
          __CrestApply2(591, 12, (long long )((int )*mem_24 == 37));
          if ((int )*mem_24 == 37) {
            __CrestBranch(594, 205, 1);
            {
            __CrestLoad(598, (unsigned long )(& i), (long long )i);
            __CrestLoad(597, (unsigned long )(& start), (long long )start);
            __CrestApply2(596, 12, (long long )(i == start));
            if (i == start) {
              __CrestBranch(599, 206, 1);
              __CrestLoad(601, (unsigned long )0, (long long )((char )'%'));
              __CrestLoad(602, (unsigned long )0, (long long )100);
              tmp___0 = addstr((char )'%', pat, & j, 100);
              __CrestHandleReturn(604, (long long )tmp___0);
              __CrestStore(603, (unsigned long )(& tmp___0));
              __CrestLoad(605, (unsigned long )(& tmp___0), (long long )tmp___0);
              __CrestStore(606, (unsigned long )(& junk));
              junk = (bool )tmp___0;
            } else {
              __CrestBranch(600, 207, 0);
              goto _L___089;
            }
            }
          } else {
            __CrestBranch(595, 208, 0);
            _L___089: /* CIL Label */ 
            {
            mem_25 = arg + i;
            {
            __CrestLoad(609, (unsigned long )mem_25, (long long )*mem_25);
            __CrestLoad(608, (unsigned long )0, (long long )36);
            __CrestApply2(607, 12, (long long )((int )*mem_25 == 36));
            if ((int )*mem_25 == 36) {
              __CrestBranch(610, 211, 1);
              {
              mem_26 = arg + (i + 1);
              {
              __CrestLoad(614, (unsigned long )mem_26, (long long )*mem_26);
              __CrestLoad(613, (unsigned long )(& delim), (long long )delim);
              __CrestApply2(612, 12, (long long )((int )*mem_26 == (int )delim));
              if ((int )*mem_26 == (int )delim) {
                __CrestBranch(615, 214, 1);
                __CrestLoad(617, (unsigned long )0, (long long )((char )'$'));
                __CrestLoad(618, (unsigned long )0, (long long )100);
                tmp___1 = addstr((char )'$', pat, & j, 100);
                __CrestHandleReturn(620, (long long )tmp___1);
                __CrestStore(619, (unsigned long )(& tmp___1));
                __CrestLoad(621, (unsigned long )(& tmp___1), (long long )tmp___1);
                __CrestStore(622, (unsigned long )(& junk));
                junk = (bool )tmp___1;
              } else {
                __CrestBranch(616, 215, 0);
                goto _L89;
              }
              }
              }
            } else {
              __CrestBranch(611, 216, 0);
              _L89: /* CIL Label */ 
              {
              mem_27 = arg + i;
              {
              __CrestLoad(625, (unsigned long )mem_27, (long long )*mem_27);
              __CrestLoad(624, (unsigned long )0, (long long )91);
              __CrestApply2(623, 12, (long long )((int )*mem_27 == 91));
              if ((int )*mem_27 == 91) {
                __CrestBranch(626, 219, 1);
                getres = getccl(arg, & i, pat, & j);
                __CrestHandleReturn(629, (long long )getres);
                __CrestStore(628, (unsigned long )(& getres));
                __CrestLoad(632, (unsigned long )(& getres), (long long )getres);
                __CrestLoad(631, (unsigned long )0, (long long )0);
                __CrestApply2(630, 12, (long long )((int )getres == 0));
                __CrestStore(633, (unsigned long )(& done));
                done = (bool )((int )getres == 0);
              } else {
                __CrestBranch(627, 220, 0);
                {
                mem_28 = arg + i;
                {
                __CrestLoad(636, (unsigned long )mem_28, (long long )*mem_28);
                __CrestLoad(635, (unsigned long )0, (long long )42);
                __CrestApply2(634, 12, (long long )((int )*mem_28 == 42));
                if ((int )*mem_28 == 42) {
                  __CrestBranch(637, 223, 1);
                  {
                  __CrestLoad(641, (unsigned long )(& i), (long long )i);
                  __CrestLoad(640, (unsigned long )(& start), (long long )start);
                  __CrestApply2(639, 14, (long long )(i > start));
                  if (i > start) {
                    __CrestBranch(642, 224, 1);
                    __CrestLoad(644, (unsigned long )(& lastj), (long long )lastj);
                    __CrestStore(645, (unsigned long )(& lj));
                    lj = lastj;
                    mem_29 = pat + lj;
                    __CrestLoad(646, (unsigned long )mem_29, (long long )*mem_29);
                    tmp___2 = in_set_2(*mem_29);
                    __CrestHandleReturn(648, (long long )tmp___2);
                    __CrestStore(647, (unsigned long )(& tmp___2));
                    {
                    __CrestLoad(651, (unsigned long )(& tmp___2), (long long )tmp___2);
                    __CrestLoad(650, (unsigned long )0, (long long )0);
                    __CrestApply2(649, 13, (long long )(tmp___2 != 0));
                    if (tmp___2 != 0) {
                      __CrestBranch(652, 226, 1);
                      __CrestLoad(654, (unsigned long )0, (long long )((bool )1));
                      __CrestStore(655, (unsigned long )(& done));
                      done = (bool )1;
                    } else {
                      __CrestBranch(653, 227, 0);
                      __CrestLoad(656, (unsigned long )(& lastj), (long long )lastj);
                      stclose(pat, & j, lastj);
                      __CrestClearStack(657);
                    }
                    }
                  } else {
                    __CrestBranch(643, 228, 0);
                    __CrestLoad(658, (unsigned long )0, (long long )((char )'c'));
                    __CrestLoad(659, (unsigned long )0, (long long )100);
                    tmp___3 = addstr((char )'c', pat, & j, 100);
                    __CrestHandleReturn(661, (long long )tmp___3);
                    __CrestStore(660, (unsigned long )(& tmp___3));
                    __CrestLoad(662, (unsigned long )(& tmp___3), (long long )tmp___3);
                    __CrestStore(663, (unsigned long )(& junk));
                    junk = (bool )tmp___3;
                    escjunk = esc(arg, & i);
                    __CrestHandleReturn(665, (long long )escjunk);
                    __CrestStore(664, (unsigned long )(& escjunk));
                    __CrestLoad(666, (unsigned long )(& escjunk), (long long )escjunk);
                    __CrestLoad(667, (unsigned long )0, (long long )100);
                    tmp___4 = addstr(escjunk, pat, & j, 100);
                    __CrestHandleReturn(669, (long long )tmp___4);
                    __CrestStore(668, (unsigned long )(& tmp___4));
                    __CrestLoad(670, (unsigned long )(& tmp___4), (long long )tmp___4);
                    __CrestStore(671, (unsigned long )(& junk));
                    junk = (bool )tmp___4;
                  }
                  }
                } else {
                  __CrestBranch(638, 229, 0);
                  __CrestLoad(672, (unsigned long )0, (long long )((char )'c'));
                  __CrestLoad(673, (unsigned long )0, (long long )100);
                  tmp___3 = addstr((char )'c', pat, & j, 100);
                  __CrestHandleReturn(675, (long long )tmp___3);
                  __CrestStore(674, (unsigned long )(& tmp___3));
                  __CrestLoad(676, (unsigned long )(& tmp___3), (long long )tmp___3);
                  __CrestStore(677, (unsigned long )(& junk));
                  junk = (bool )tmp___3;
                  escjunk = esc(arg, & i);
                  __CrestHandleReturn(679, (long long )escjunk);
                  __CrestStore(678, (unsigned long )(& escjunk));
                  __CrestLoad(680, (unsigned long )(& escjunk), (long long )escjunk);
                  __CrestLoad(681, (unsigned long )0, (long long )100);
                  tmp___4 = addstr(escjunk, pat, & j, 100);
                  __CrestHandleReturn(683, (long long )tmp___4);
                  __CrestStore(682, (unsigned long )(& tmp___4));
                  __CrestLoad(684, (unsigned long )(& tmp___4), (long long )tmp___4);
                  __CrestStore(685, (unsigned long )(& junk));
                  junk = (bool )tmp___4;
                }
                }
                }
              }
              }
              }
            }
            }
            }
          }
          }
          }
        }
        }
        }
        __CrestLoad(686, (unsigned long )(& lj), (long long )lj);
        __CrestStore(687, (unsigned long )(& lastj));
        lastj = lj;
        {
        __CrestLoad(690, (unsigned long )(& done), (long long )done);
        __CrestLoad(689, (unsigned long )0, (long long )0);
        __CrestApply2(688, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(691, 232, 1);
          __CrestLoad(695, (unsigned long )(& i), (long long )i);
          __CrestLoad(694, (unsigned long )0, (long long )1);
          __CrestApply2(693, 0, (long long )(i + 1));
          __CrestStore(696, (unsigned long )(& i));
          i ++;
        } else {
          __CrestBranch(692, 233, 0);

        }
        }
      } else {
        __CrestBranch(577, 234, 0);

      }
      }
      }
    } else {
      __CrestBranch(572, 235, 0);

    }
    }
    }
  } else {
    __CrestBranch(567, 236, 0);

  }
  }
  {
  __CrestLoad(699, (unsigned long )(& done), (long long )done);
  __CrestLoad(698, (unsigned long )0, (long long )0);
  __CrestApply2(697, 12, (long long )(done == 0));
  if (done == 0) {
    __CrestBranch(700, 238, 1);
    {
    mem_30 = arg + i;
    {
    __CrestLoad(704, (unsigned long )mem_30, (long long )*mem_30);
    __CrestLoad(703, (unsigned long )(& delim), (long long )delim);
    __CrestApply2(702, 13, (long long )((int )*mem_30 != (int )delim));
    if ((int )*mem_30 != (int )delim) {
      __CrestBranch(705, 241, 1);
      {
      mem_31 = arg + i;
      {
      __CrestLoad(709, (unsigned long )mem_31, (long long )*mem_31);
      __CrestLoad(708, (unsigned long )0, (long long )0);
      __CrestApply2(707, 13, (long long )((int )*mem_31 != 0));
      if ((int )*mem_31 != 0) {
        __CrestBranch(710, 244, 1);
        __CrestLoad(712, (unsigned long )(& j), (long long )j);
        __CrestStore(713, (unsigned long )(& lj));
        lj = j;
        {
        mem_32 = arg + i;
        {
        __CrestLoad(716, (unsigned long )mem_32, (long long )*mem_32);
        __CrestLoad(715, (unsigned long )0, (long long )63);
        __CrestApply2(714, 12, (long long )((int )*mem_32 == 63));
        if ((int )*mem_32 == 63) {
          __CrestBranch(717, 248, 1);
          __CrestLoad(719, (unsigned long )0, (long long )((char )'?'));
          __CrestLoad(720, (unsigned long )0, (long long )100);
          tmp = addstr((char )'?', pat, & j, 100);
          __CrestHandleReturn(722, (long long )tmp);
          __CrestStore(721, (unsigned long )(& tmp));
          __CrestLoad(723, (unsigned long )(& tmp), (long long )tmp);
          __CrestStore(724, (unsigned long )(& junk));
          junk = (bool )tmp;
        } else {
          __CrestBranch(718, 249, 0);
          {
          mem_33 = arg + i;
          {
          __CrestLoad(727, (unsigned long )mem_33, (long long )*mem_33);
          __CrestLoad(726, (unsigned long )0, (long long )37);
          __CrestApply2(725, 12, (long long )((int )*mem_33 == 37));
          if ((int )*mem_33 == 37) {
            __CrestBranch(728, 252, 1);
            {
            __CrestLoad(732, (unsigned long )(& i), (long long )i);
            __CrestLoad(731, (unsigned long )(& start), (long long )start);
            __CrestApply2(730, 12, (long long )(i == start));
            if (i == start) {
              __CrestBranch(733, 253, 1);
              __CrestLoad(735, (unsigned long )0, (long long )((char )'%'));
              __CrestLoad(736, (unsigned long )0, (long long )100);
              tmp___0 = addstr((char )'%', pat, & j, 100);
              __CrestHandleReturn(738, (long long )tmp___0);
              __CrestStore(737, (unsigned long )(& tmp___0));
              __CrestLoad(739, (unsigned long )(& tmp___0), (long long )tmp___0);
              __CrestStore(740, (unsigned long )(& junk));
              junk = (bool )tmp___0;
            } else {
              __CrestBranch(734, 254, 0);
              goto _L___0810;
            }
            }
          } else {
            __CrestBranch(729, 255, 0);
            _L___0810: /* CIL Label */ 
            {
            mem_34 = arg + i;
            {
            __CrestLoad(743, (unsigned long )mem_34, (long long )*mem_34);
            __CrestLoad(742, (unsigned long )0, (long long )36);
            __CrestApply2(741, 12, (long long )((int )*mem_34 == 36));
            if ((int )*mem_34 == 36) {
              __CrestBranch(744, 258, 1);
              {
              mem_35 = arg + (i + 1);
              {
              __CrestLoad(748, (unsigned long )mem_35, (long long )*mem_35);
              __CrestLoad(747, (unsigned long )(& delim), (long long )delim);
              __CrestApply2(746, 12, (long long )((int )*mem_35 == (int )delim));
              if ((int )*mem_35 == (int )delim) {
                __CrestBranch(749, 261, 1);
                __CrestLoad(751, (unsigned long )0, (long long )((char )'$'));
                __CrestLoad(752, (unsigned long )0, (long long )100);
                tmp___1 = addstr((char )'$', pat, & j, 100);
                __CrestHandleReturn(754, (long long )tmp___1);
                __CrestStore(753, (unsigned long )(& tmp___1));
                __CrestLoad(755, (unsigned long )(& tmp___1), (long long )tmp___1);
                __CrestStore(756, (unsigned long )(& junk));
                junk = (bool )tmp___1;
              } else {
                __CrestBranch(750, 262, 0);
                goto _L810;
              }
              }
              }
            } else {
              __CrestBranch(745, 263, 0);
              _L810: /* CIL Label */ 
              {
              mem_36 = arg + i;
              {
              __CrestLoad(759, (unsigned long )mem_36, (long long )*mem_36);
              __CrestLoad(758, (unsigned long )0, (long long )91);
              __CrestApply2(757, 12, (long long )((int )*mem_36 == 91));
              if ((int )*mem_36 == 91) {
                __CrestBranch(760, 266, 1);
                getres = getccl(arg, & i, pat, & j);
                __CrestHandleReturn(763, (long long )getres);
                __CrestStore(762, (unsigned long )(& getres));
                __CrestLoad(766, (unsigned long )(& getres), (long long )getres);
                __CrestLoad(765, (unsigned long )0, (long long )0);
                __CrestApply2(764, 12, (long long )((int )getres == 0));
                __CrestStore(767, (unsigned long )(& done));
                done = (bool )((int )getres == 0);
              } else {
                __CrestBranch(761, 267, 0);
                {
                mem_37 = arg + i;
                {
                __CrestLoad(770, (unsigned long )mem_37, (long long )*mem_37);
                __CrestLoad(769, (unsigned long )0, (long long )42);
                __CrestApply2(768, 12, (long long )((int )*mem_37 == 42));
                if ((int )*mem_37 == 42) {
                  __CrestBranch(771, 270, 1);
                  {
                  __CrestLoad(775, (unsigned long )(& i), (long long )i);
                  __CrestLoad(774, (unsigned long )(& start), (long long )start);
                  __CrestApply2(773, 14, (long long )(i > start));
                  if (i > start) {
                    __CrestBranch(776, 271, 1);
                    __CrestLoad(778, (unsigned long )(& lastj), (long long )lastj);
                    __CrestStore(779, (unsigned long )(& lj));
                    lj = lastj;
                    mem_38 = pat + lj;
                    __CrestLoad(780, (unsigned long )mem_38, (long long )*mem_38);
                    tmp___2 = in_set_2(*mem_38);
                    __CrestHandleReturn(782, (long long )tmp___2);
                    __CrestStore(781, (unsigned long )(& tmp___2));
                    {
                    __CrestLoad(785, (unsigned long )(& tmp___2), (long long )tmp___2);
                    __CrestLoad(784, (unsigned long )0, (long long )0);
                    __CrestApply2(783, 13, (long long )(tmp___2 != 0));
                    if (tmp___2 != 0) {
                      __CrestBranch(786, 273, 1);
                      __CrestLoad(788, (unsigned long )0, (long long )((bool )1));
                      __CrestStore(789, (unsigned long )(& done));
                      done = (bool )1;
                    } else {
                      __CrestBranch(787, 274, 0);
                      __CrestLoad(790, (unsigned long )(& lastj), (long long )lastj);
                      stclose(pat, & j, lastj);
                      __CrestClearStack(791);
                    }
                    }
                  } else {
                    __CrestBranch(777, 275, 0);
                    __CrestLoad(792, (unsigned long )0, (long long )((char )'c'));
                    __CrestLoad(793, (unsigned long )0, (long long )100);
                    tmp___3 = addstr((char )'c', pat, & j, 100);
                    __CrestHandleReturn(795, (long long )tmp___3);
                    __CrestStore(794, (unsigned long )(& tmp___3));
                    __CrestLoad(796, (unsigned long )(& tmp___3), (long long )tmp___3);
                    __CrestStore(797, (unsigned long )(& junk));
                    junk = (bool )tmp___3;
                    escjunk = esc(arg, & i);
                    __CrestHandleReturn(799, (long long )escjunk);
                    __CrestStore(798, (unsigned long )(& escjunk));
                    __CrestLoad(800, (unsigned long )(& escjunk), (long long )escjunk);
                    __CrestLoad(801, (unsigned long )0, (long long )100);
                    tmp___4 = addstr(escjunk, pat, & j, 100);
                    __CrestHandleReturn(803, (long long )tmp___4);
                    __CrestStore(802, (unsigned long )(& tmp___4));
                    __CrestLoad(804, (unsigned long )(& tmp___4), (long long )tmp___4);
                    __CrestStore(805, (unsigned long )(& junk));
                    junk = (bool )tmp___4;
                  }
                  }
                } else {
                  __CrestBranch(772, 276, 0);
                  __CrestLoad(806, (unsigned long )0, (long long )((char )'c'));
                  __CrestLoad(807, (unsigned long )0, (long long )100);
                  tmp___3 = addstr((char )'c', pat, & j, 100);
                  __CrestHandleReturn(809, (long long )tmp___3);
                  __CrestStore(808, (unsigned long )(& tmp___3));
                  __CrestLoad(810, (unsigned long )(& tmp___3), (long long )tmp___3);
                  __CrestStore(811, (unsigned long )(& junk));
                  junk = (bool )tmp___3;
                  escjunk = esc(arg, & i);
                  __CrestHandleReturn(813, (long long )escjunk);
                  __CrestStore(812, (unsigned long )(& escjunk));
                  __CrestLoad(814, (unsigned long )(& escjunk), (long long )escjunk);
                  __CrestLoad(815, (unsigned long )0, (long long )100);
                  tmp___4 = addstr(escjunk, pat, & j, 100);
                  __CrestHandleReturn(817, (long long )tmp___4);
                  __CrestStore(816, (unsigned long )(& tmp___4));
                  __CrestLoad(818, (unsigned long )(& tmp___4), (long long )tmp___4);
                  __CrestStore(819, (unsigned long )(& junk));
                  junk = (bool )tmp___4;
                }
                }
                }
              }
              }
              }
            }
            }
            }
          }
          }
          }
        }
        }
        }
        __CrestLoad(820, (unsigned long )(& lj), (long long )lj);
        __CrestStore(821, (unsigned long )(& lastj));
        lastj = lj;
        {
        __CrestLoad(824, (unsigned long )(& done), (long long )done);
        __CrestLoad(823, (unsigned long )0, (long long )0);
        __CrestApply2(822, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(825, 279, 1);
          __CrestLoad(829, (unsigned long )(& i), (long long )i);
          __CrestLoad(828, (unsigned long )0, (long long )1);
          __CrestApply2(827, 0, (long long )(i + 1));
          __CrestStore(830, (unsigned long )(& i));
          i ++;
        } else {
          __CrestBranch(826, 280, 0);

        }
        }
      } else {
        __CrestBranch(711, 281, 0);

      }
      }
      }
    } else {
      __CrestBranch(706, 282, 0);

    }
    }
    }
  } else {
    __CrestBranch(701, 283, 0);

  }
  }
  }
  __CrestLoad(831, (unsigned long )0, (long long )((char )'\000'));
  __CrestLoad(832, (unsigned long )0, (long long )100);
#line 243
  tmp___5 = addstr((char )'\000', pat, & j, 100);
  __CrestHandleReturn(834, (long long )tmp___5);
  __CrestStore(833, (unsigned long )(& tmp___5));
  __CrestLoad(835, (unsigned long )(& tmp___5), (long long )tmp___5);
  __CrestStore(836, (unsigned long )(& junk));
#line 243
  junk = (bool )tmp___5;
  {
  __CrestLoad(839, (unsigned long )(& done), (long long )done);
  __CrestLoad(838, (unsigned long )0, (long long )0);
  __CrestApply2(837, 13, (long long )(done != 0));
#line 244
  if (done != 0) {
    __CrestBranch(840, 286, 1);
    __CrestLoad(842, (unsigned long )0, (long long )0);
    __CrestStore(843, (unsigned long )(& result));
#line 245
    result = 0;
  } else {
    __CrestBranch(841, 287, 0);
    {
#line 244
    mem_39 = arg + i;
    {
    __CrestLoad(846, (unsigned long )mem_39, (long long )*mem_39);
    __CrestLoad(845, (unsigned long )(& delim), (long long )delim);
    __CrestApply2(844, 13, (long long )((int )*mem_39 != (int )delim));
#line 244
    if ((int )*mem_39 != (int )delim) {
      __CrestBranch(847, 290, 1);
      __CrestLoad(849, (unsigned long )0, (long long )0);
      __CrestStore(850, (unsigned long )(& result));
#line 245
      result = 0;
    } else {
      __CrestBranch(848, 291, 0);
      {
      __CrestLoad(853, (unsigned long )(& junk), (long long )junk);
      __CrestLoad(852, (unsigned long )0, (long long )0);
      __CrestApply2(851, 12, (long long )(junk == 0));
#line 247
      if (junk == 0) {
        __CrestBranch(854, 292, 1);
        __CrestLoad(856, (unsigned long )0, (long long )0);
        __CrestStore(857, (unsigned long )(& result));
#line 248
        result = 0;
      } else {
        __CrestBranch(855, 293, 0);
        __CrestLoad(858, (unsigned long )(& i), (long long )i);
        __CrestStore(859, (unsigned long )(& result));
#line 250
        result = i;
      }
      }
    }
    }
    }
  }
  }
  {
  __CrestLoad(860, (unsigned long )(& result), (long long )result);
  __CrestReturn(861);
#line 251
  return (result);
  }
}
}
#line 254 "replace.c"
int getpat(char *arg , char *pat ) 
{ 
  int makeres ;
  int __retres4 ;

  {
  __CrestCall(862, 10);

  __CrestLoad(863, (unsigned long )0, (long long )0);
  __CrestLoad(864, (unsigned long )0, (long long )((char )'\000'));
#line 261
  makeres = makepat(arg, 0, (char )'\000', pat);
  __CrestHandleReturn(866, (long long )makeres);
  __CrestStore(865, (unsigned long )(& makeres));
  __CrestLoad(869, (unsigned long )(& makeres), (long long )makeres);
  __CrestLoad(868, (unsigned long )0, (long long )0);
  __CrestApply2(867, 14, (long long )(makeres > 0));
  __CrestStore(870, (unsigned long )(& __retres4));
#line 262
  __retres4 = makeres > 0;
  {
  __CrestLoad(871, (unsigned long )(& __retres4), (long long )__retres4);
  __CrestReturn(872);
#line 254
  return (__retres4);
  }
}
}
#line 265 "replace.c"
int makesub(char *arg , int from , character delim , char *sub ) 
{ 
  int result ;
  int i ;
  int j ;
  bool junk ;
  character escjunk ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *mem_13 ;
  char *mem_14 ;
  char *mem_15 ;
  char *mem_16 ;
  char *mem_17 ;
  char *mem_18 ;
  char *mem_19 ;

  {
  __CrestCall(875, 11);
  __CrestStore(874, (unsigned long )(& delim));
  __CrestStore(873, (unsigned long )(& from));
  __CrestLoad(876, (unsigned long )0, (long long )0);
  __CrestStore(877, (unsigned long )(& j));
#line 277
  j = 0;
  __CrestLoad(878, (unsigned long )(& from), (long long )from);
  __CrestStore(879, (unsigned long )(& i));
#line 278
  i = from;
  {
  {
  mem_13 = arg + i;
  {
  __CrestLoad(882, (unsigned long )mem_13, (long long )*mem_13);
  __CrestLoad(881, (unsigned long )(& delim), (long long )delim);
  __CrestApply2(880, 13, (long long )((int )*mem_13 != (int )delim));
  if ((int )*mem_13 != (int )delim) {
    __CrestBranch(883, 303, 1);
    {
    mem_14 = arg + i;
    {
    __CrestLoad(887, (unsigned long )mem_14, (long long )*mem_14);
    __CrestLoad(886, (unsigned long )0, (long long )0);
    __CrestApply2(885, 13, (long long )((int )*mem_14 != 0));
    if ((int )*mem_14 != 0) {
      __CrestBranch(888, 306, 1);
      {
      mem_15 = arg + i;
      {
      __CrestLoad(892, (unsigned long )mem_15, (long long )*mem_15);
      __CrestLoad(891, (unsigned long )0, (long long )38U);
      __CrestApply2(890, 12, (long long )((unsigned int )*mem_15 == 38U));
      if ((unsigned int )*mem_15 == 38U) {
        __CrestBranch(893, 309, 1);
        __CrestLoad(895, (unsigned long )0, (long long )(char)-1);
        __CrestLoad(896, (unsigned long )0, (long long )100);
        tmp = addstr((char)-1, sub, & j, 100);
        __CrestHandleReturn(898, (long long )tmp);
        __CrestStore(897, (unsigned long )(& tmp));
        __CrestLoad(899, (unsigned long )(& tmp), (long long )tmp);
        __CrestStore(900, (unsigned long )(& junk));
        junk = (bool )tmp;
      } else {
        __CrestBranch(894, 310, 0);
        escjunk = esc(arg, & i);
        __CrestHandleReturn(902, (long long )escjunk);
        __CrestStore(901, (unsigned long )(& escjunk));
        __CrestLoad(903, (unsigned long )(& escjunk), (long long )escjunk);
        __CrestLoad(904, (unsigned long )0, (long long )100);
        tmp___0 = addstr(escjunk, sub, & j, 100);
        __CrestHandleReturn(906, (long long )tmp___0);
        __CrestStore(905, (unsigned long )(& tmp___0));
        __CrestLoad(907, (unsigned long )(& tmp___0), (long long )tmp___0);
        __CrestStore(908, (unsigned long )(& junk));
        junk = (bool )tmp___0;
      }
      }
      }
      __CrestLoad(911, (unsigned long )(& i), (long long )i);
      __CrestLoad(910, (unsigned long )0, (long long )1);
      __CrestApply2(909, 0, (long long )(i + 1));
      __CrestStore(912, (unsigned long )(& i));
      i ++;
    } else {
      __CrestBranch(889, 312, 0);

    }
    }
    }
  } else {
    __CrestBranch(884, 313, 0);

  }
  }
  }
  {
  mem_16 = arg + i;
  {
  __CrestLoad(915, (unsigned long )mem_16, (long long )*mem_16);
  __CrestLoad(914, (unsigned long )(& delim), (long long )delim);
  __CrestApply2(913, 13, (long long )((int )*mem_16 != (int )delim));
  if ((int )*mem_16 != (int )delim) {
    __CrestBranch(916, 317, 1);
    {
    mem_17 = arg + i;
    {
    __CrestLoad(920, (unsigned long )mem_17, (long long )*mem_17);
    __CrestLoad(919, (unsigned long )0, (long long )0);
    __CrestApply2(918, 13, (long long )((int )*mem_17 != 0));
    if ((int )*mem_17 != 0) {
      __CrestBranch(921, 320, 1);
      {
      mem_18 = arg + i;
      {
      __CrestLoad(925, (unsigned long )mem_18, (long long )*mem_18);
      __CrestLoad(924, (unsigned long )0, (long long )38U);
      __CrestApply2(923, 12, (long long )((unsigned int )*mem_18 == 38U));
      if ((unsigned int )*mem_18 == 38U) {
        __CrestBranch(926, 323, 1);
        __CrestLoad(928, (unsigned long )0, (long long )(char)-1);
        __CrestLoad(929, (unsigned long )0, (long long )100);
        tmp = addstr((char)-1, sub, & j, 100);
        __CrestHandleReturn(931, (long long )tmp);
        __CrestStore(930, (unsigned long )(& tmp));
        __CrestLoad(932, (unsigned long )(& tmp), (long long )tmp);
        __CrestStore(933, (unsigned long )(& junk));
        junk = (bool )tmp;
      } else {
        __CrestBranch(927, 324, 0);
        escjunk = esc(arg, & i);
        __CrestHandleReturn(935, (long long )escjunk);
        __CrestStore(934, (unsigned long )(& escjunk));
        __CrestLoad(936, (unsigned long )(& escjunk), (long long )escjunk);
        __CrestLoad(937, (unsigned long )0, (long long )100);
        tmp___0 = addstr(escjunk, sub, & j, 100);
        __CrestHandleReturn(939, (long long )tmp___0);
        __CrestStore(938, (unsigned long )(& tmp___0));
        __CrestLoad(940, (unsigned long )(& tmp___0), (long long )tmp___0);
        __CrestStore(941, (unsigned long )(& junk));
        junk = (bool )tmp___0;
      }
      }
      }
      __CrestLoad(944, (unsigned long )(& i), (long long )i);
      __CrestLoad(943, (unsigned long )0, (long long )1);
      __CrestApply2(942, 0, (long long )(i + 1));
      __CrestStore(945, (unsigned long )(& i));
      i ++;
    } else {
      __CrestBranch(922, 326, 0);

    }
    }
    }
  } else {
    __CrestBranch(917, 327, 0);

  }
  }
  }
  }
  {
#line 288
  mem_19 = arg + i;
  {
  __CrestLoad(948, (unsigned long )mem_19, (long long )*mem_19);
  __CrestLoad(947, (unsigned long )(& delim), (long long )delim);
  __CrestApply2(946, 13, (long long )((int )*mem_19 != (int )delim));
#line 288
  if ((int )*mem_19 != (int )delim) {
    __CrestBranch(949, 331, 1);
    __CrestLoad(951, (unsigned long )0, (long long )0);
    __CrestStore(952, (unsigned long )(& result));
#line 289
    result = 0;
  } else {
    __CrestBranch(950, 332, 0);
    __CrestLoad(953, (unsigned long )0, (long long )((char )'\000'));
    __CrestLoad(954, (unsigned long )0, (long long )100);
#line 291
    tmp___1 = addstr((char )'\000', sub, & j, 100);
    __CrestHandleReturn(956, (long long )tmp___1);
    __CrestStore(955, (unsigned long )(& tmp___1));
    __CrestLoad(957, (unsigned long )(& tmp___1), (long long )tmp___1);
    __CrestStore(958, (unsigned long )(& junk));
#line 291
    junk = (bool )tmp___1;
    {
    __CrestLoad(961, (unsigned long )(& junk), (long long )junk);
    __CrestLoad(960, (unsigned long )0, (long long )0);
    __CrestApply2(959, 12, (long long )(junk == 0));
#line 292
    if (junk == 0) {
      __CrestBranch(962, 334, 1);
      __CrestLoad(964, (unsigned long )0, (long long )0);
      __CrestStore(965, (unsigned long )(& result));
#line 293
      result = 0;
    } else {
      __CrestBranch(963, 335, 0);
      __CrestLoad(966, (unsigned long )(& i), (long long )i);
      __CrestStore(967, (unsigned long )(& result));
#line 295
      result = i;
    }
    }
  }
  }
  }
  {
  __CrestLoad(968, (unsigned long )(& result), (long long )result);
  __CrestReturn(969);
#line 297
  return (result);
  }
}
}
#line 300 "replace.c"
bool getsub(char *arg , char *sub ) 
{ 
  int makeres ;
  bool __retres4 ;

  {
  __CrestCall(970, 12);

  __CrestLoad(971, (unsigned long )0, (long long )0);
  __CrestLoad(972, (unsigned long )0, (long long )((character )'\000'));
#line 307
  makeres = makesub(arg, 0, (character )'\000', sub);
  __CrestHandleReturn(974, (long long )makeres);
  __CrestStore(973, (unsigned long )(& makeres));
  __CrestLoad(977, (unsigned long )(& makeres), (long long )makeres);
  __CrestLoad(976, (unsigned long )0, (long long )0);
  __CrestApply2(975, 14, (long long )(makeres > 0));
  __CrestStore(978, (unsigned long )(& __retres4));
#line 308
  __retres4 = (bool )(makeres > 0);
  {
  __CrestLoad(979, (unsigned long )(& __retres4), (long long )__retres4);
  __CrestReturn(980);
#line 300
  return (__retres4);
  }
}
}
#line 311
void subline(char *lin , char *pat , char *sub ) ;
#line 313 "replace.c"
bool locate(character c , char *pat , int offset ) 
{ 
  int i ;
  bool flag ;
  char *mem_6 ;
  char *mem_7 ;
  char *mem_8 ;

  {
  __CrestCall(983, 13);
  __CrestStore(982, (unsigned long )(& offset));
  __CrestStore(981, (unsigned long )(& c));
  __CrestLoad(984, (unsigned long )0, (long long )((bool )0));
  __CrestStore(985, (unsigned long )(& flag));
#line 322
  flag = (bool )0;
#line 323
  mem_6 = pat + offset;
  __CrestLoad(988, (unsigned long )(& offset), (long long )offset);
  __CrestLoad(987, (unsigned long )mem_6, (long long )*mem_6);
  __CrestApply2(986, 0, (long long )(offset + (int )*mem_6));
  __CrestStore(989, (unsigned long )(& i));
#line 323
  i = offset + (int )*mem_6;
  {
  {
  __CrestLoad(992, (unsigned long )(& i), (long long )i);
  __CrestLoad(991, (unsigned long )(& offset), (long long )offset);
  __CrestApply2(990, 14, (long long )(i > offset));
  if (i > offset) {
    __CrestBranch(993, 343, 1);
    {
    mem_7 = pat + i;
    {
    __CrestLoad(997, (unsigned long )(& c), (long long )c);
    __CrestLoad(996, (unsigned long )mem_7, (long long )*mem_7);
    __CrestApply2(995, 12, (long long )((int )c == (int )*mem_7));
    if ((int )c == (int )*mem_7) {
      __CrestBranch(998, 346, 1);
      __CrestLoad(1000, (unsigned long )0, (long long )((bool )1));
      __CrestStore(1001, (unsigned long )(& flag));
      flag = (bool )1;
      __CrestLoad(1002, (unsigned long )(& offset), (long long )offset);
      __CrestStore(1003, (unsigned long )(& i));
      i = offset;
    } else {
      __CrestBranch(999, 347, 0);
      __CrestLoad(1006, (unsigned long )(& i), (long long )i);
      __CrestLoad(1005, (unsigned long )0, (long long )1);
      __CrestApply2(1004, 1, (long long )(i - 1));
      __CrestStore(1007, (unsigned long )(& i));
      i --;
    }
    }
    }
  } else {
    __CrestBranch(994, 348, 0);

  }
  }
  {
  __CrestLoad(1010, (unsigned long )(& i), (long long )i);
  __CrestLoad(1009, (unsigned long )(& offset), (long long )offset);
  __CrestApply2(1008, 14, (long long )(i > offset));
  if (i > offset) {
    __CrestBranch(1011, 350, 1);
    {
    mem_8 = pat + i;
    {
    __CrestLoad(1015, (unsigned long )(& c), (long long )c);
    __CrestLoad(1014, (unsigned long )mem_8, (long long )*mem_8);
    __CrestApply2(1013, 12, (long long )((int )c == (int )*mem_8));
    if ((int )c == (int )*mem_8) {
      __CrestBranch(1016, 353, 1);
      __CrestLoad(1018, (unsigned long )0, (long long )((bool )1));
      __CrestStore(1019, (unsigned long )(& flag));
      flag = (bool )1;
      __CrestLoad(1020, (unsigned long )(& offset), (long long )offset);
      __CrestStore(1021, (unsigned long )(& i));
      i = offset;
    } else {
      __CrestBranch(1017, 354, 0);
      __CrestLoad(1024, (unsigned long )(& i), (long long )i);
      __CrestLoad(1023, (unsigned long )0, (long long )1);
      __CrestApply2(1022, 1, (long long )(i - 1));
      __CrestStore(1025, (unsigned long )(& i));
      i --;
    }
    }
    }
  } else {
    __CrestBranch(1012, 355, 0);

  }
  }
  }
  {
  __CrestLoad(1026, (unsigned long )(& flag), (long long )flag);
  __CrestReturn(1027);
#line 332
  return (flag);
  }
}
}
#line 335 "replace.c"
bool omatch(char *lin , int *i , char *pat , int j ) 
{ 
  char advance ;
  bool result ;
  bool tmp ;
  bool tmp___0 ;
  bool tmp___1 ;
  char *mem_10 ;
  char *mem_11 ;
  char *mem_12 ;
  char *mem_13 ;
  char *mem_14 ;
  char *mem_15 ;
  char *mem_16 ;
  char *mem_17 ;
  char *mem_18 ;
  char *mem_19 ;
  char *mem_20 ;

  {
  __CrestCall(1029, 14);
  __CrestStore(1028, (unsigned long )(& j));
  __CrestLoad(1030, (unsigned long )0, (long long )(char)-1);
  __CrestStore(1031, (unsigned long )(& advance));
#line 345
  advance = (char)-1;
  {
#line 346
  mem_10 = lin + *i;
  {
  __CrestLoad(1034, (unsigned long )mem_10, (long long )*mem_10);
  __CrestLoad(1033, (unsigned long )0, (long long )0);
  __CrestApply2(1032, 12, (long long )((int )*mem_10 == 0));
#line 346
  if ((int )*mem_10 == 0) {
    __CrestBranch(1035, 361, 1);
    __CrestLoad(1037, (unsigned long )0, (long long )((bool )0));
    __CrestStore(1038, (unsigned long )(& result));
#line 347
    result = (bool )0;
  } else {
    __CrestBranch(1036, 362, 0);
#line 350
    mem_11 = pat + j;
    __CrestLoad(1039, (unsigned long )mem_11, (long long )*mem_11);
#line 350
    tmp___1 = in_pat_set(*mem_11);
    __CrestHandleReturn(1041, (long long )tmp___1);
    __CrestStore(1040, (unsigned long )(& tmp___1));
    {
    __CrestLoad(1044, (unsigned long )(& tmp___1), (long long )tmp___1);
    __CrestLoad(1043, (unsigned long )0, (long long )0);
    __CrestApply2(1042, 13, (long long )(tmp___1 != 0));
#line 350
    if (tmp___1 != 0) {
      __CrestBranch(1045, 364, 1);
      {
#line 356
      mem_12 = pat + j;
      {
      {
      __CrestLoad(1049, (unsigned long )mem_12, (long long )*mem_12);
      __CrestLoad(1048, (unsigned long )0, (long long )99);
      __CrestApply2(1047, 12, (long long )((int )*mem_12 == 99));
#line 358
      if ((int )*mem_12 == 99) {
        __CrestBranch(1050, 368, 1);
#line 358
        goto case_99;
      } else {
        __CrestBranch(1051, 369, 0);

      }
      }
      {
      __CrestLoad(1054, (unsigned long )mem_12, (long long )*mem_12);
      __CrestLoad(1053, (unsigned long )0, (long long )37);
      __CrestApply2(1052, 12, (long long )((int )*mem_12 == 37));
#line 362
      if ((int )*mem_12 == 37) {
        __CrestBranch(1055, 371, 1);
#line 362
        goto case_37;
      } else {
        __CrestBranch(1056, 372, 0);

      }
      }
      {
      __CrestLoad(1059, (unsigned long )mem_12, (long long )*mem_12);
      __CrestLoad(1058, (unsigned long )0, (long long )63);
      __CrestApply2(1057, 12, (long long )((int )*mem_12 == 63));
#line 366
      if ((int )*mem_12 == 63) {
        __CrestBranch(1060, 374, 1);
#line 366
        goto case_63;
      } else {
        __CrestBranch(1061, 375, 0);

      }
      }
      {
      __CrestLoad(1064, (unsigned long )mem_12, (long long )*mem_12);
      __CrestLoad(1063, (unsigned long )0, (long long )36);
      __CrestApply2(1062, 12, (long long )((int )*mem_12 == 36));
#line 370
      if ((int )*mem_12 == 36) {
        __CrestBranch(1065, 377, 1);
#line 370
        goto case_36;
      } else {
        __CrestBranch(1066, 378, 0);

      }
      }
      {
      __CrestLoad(1069, (unsigned long )mem_12, (long long )*mem_12);
      __CrestLoad(1068, (unsigned long )0, (long long )91);
      __CrestApply2(1067, 12, (long long )((int )*mem_12 == 91));
#line 374
      if ((int )*mem_12 == 91) {
        __CrestBranch(1070, 380, 1);
#line 374
        goto case_91;
      } else {
        __CrestBranch(1071, 381, 0);

      }
      }
      {
      __CrestLoad(1074, (unsigned long )mem_12, (long long )*mem_12);
      __CrestLoad(1073, (unsigned long )0, (long long )33);
      __CrestApply2(1072, 12, (long long )((int )*mem_12 == 33));
#line 378
      if ((int )*mem_12 == 33) {
        __CrestBranch(1075, 383, 1);
#line 378
        goto case_33;
      } else {
        __CrestBranch(1076, 384, 0);

      }
      }
#line 382
      goto switch_default;
      case_99: /* CIL Label */ 
      {
#line 359
      mem_13 = lin + *i;
#line 359
      mem_14 = pat + (j + 1);
      {
      __CrestLoad(1079, (unsigned long )mem_13, (long long )*mem_13);
      __CrestLoad(1078, (unsigned long )mem_14, (long long )*mem_14);
      __CrestApply2(1077, 12, (long long )((int )*mem_13 == (int )*mem_14));
#line 359
      if ((int )*mem_13 == (int )*mem_14) {
        __CrestBranch(1080, 389, 1);
        __CrestLoad(1082, (unsigned long )0, (long long )(char)1);
        __CrestStore(1083, (unsigned long )(& advance));
#line 360
        advance = (char)1;
      } else {
        __CrestBranch(1081, 390, 0);

      }
      }
      }
#line 361
      goto switch_break;
      case_37: /* CIL Label */ 
      {
      __CrestLoad(1086, (unsigned long )i, (long long )*i);
      __CrestLoad(1085, (unsigned long )0, (long long )0);
      __CrestApply2(1084, 12, (long long )(*i == 0));
#line 363
      if (*i == 0) {
        __CrestBranch(1087, 393, 1);
        __CrestLoad(1089, (unsigned long )0, (long long )(char)0);
        __CrestStore(1090, (unsigned long )(& advance));
#line 364
        advance = (char)0;
      } else {
        __CrestBranch(1088, 394, 0);

      }
      }
#line 365
      goto switch_break;
      case_63: /* CIL Label */ 
      {
#line 367
      mem_15 = lin + *i;
      {
      __CrestLoad(1093, (unsigned long )mem_15, (long long )*mem_15);
      __CrestLoad(1092, (unsigned long )0, (long long )10);
      __CrestApply2(1091, 13, (long long )((int )*mem_15 != 10));
#line 367
      if ((int )*mem_15 != 10) {
        __CrestBranch(1094, 399, 1);
        __CrestLoad(1096, (unsigned long )0, (long long )(char)1);
        __CrestStore(1097, (unsigned long )(& advance));
#line 368
        advance = (char)1;
      } else {
        __CrestBranch(1095, 400, 0);

      }
      }
      }
#line 369
      goto switch_break;
      case_36: /* CIL Label */ 
      {
#line 371
      mem_16 = lin + *i;
      {
      __CrestLoad(1100, (unsigned long )mem_16, (long long )*mem_16);
      __CrestLoad(1099, (unsigned long )0, (long long )10);
      __CrestApply2(1098, 12, (long long )((int )*mem_16 == 10));
#line 371
      if ((int )*mem_16 == 10) {
        __CrestBranch(1101, 405, 1);
        __CrestLoad(1103, (unsigned long )0, (long long )(char)0);
        __CrestStore(1104, (unsigned long )(& advance));
#line 372
        advance = (char)0;
      } else {
        __CrestBranch(1102, 406, 0);

      }
      }
      }
#line 373
      goto switch_break;
      case_91: /* CIL Label */ 
#line 375
      mem_17 = lin + *i;
      __CrestLoad(1105, (unsigned long )mem_17, (long long )*mem_17);
      __CrestLoad(1108, (unsigned long )(& j), (long long )j);
      __CrestLoad(1107, (unsigned long )0, (long long )1);
      __CrestApply2(1106, 0, (long long )(j + 1));
#line 375
      tmp = locate(*mem_17, pat, j + 1);
      __CrestHandleReturn(1110, (long long )tmp);
      __CrestStore(1109, (unsigned long )(& tmp));
      {
      __CrestLoad(1113, (unsigned long )(& tmp), (long long )tmp);
      __CrestLoad(1112, (unsigned long )0, (long long )0);
      __CrestApply2(1111, 13, (long long )(tmp != 0));
#line 375
      if (tmp != 0) {
        __CrestBranch(1114, 410, 1);
        __CrestLoad(1116, (unsigned long )0, (long long )(char)1);
        __CrestStore(1117, (unsigned long )(& advance));
#line 376
        advance = (char)1;
      } else {
        __CrestBranch(1115, 411, 0);

      }
      }
#line 377
      goto switch_break;
      case_33: /* CIL Label */ 
      {
#line 379
      mem_18 = lin + *i;
      {
      __CrestLoad(1120, (unsigned long )mem_18, (long long )*mem_18);
      __CrestLoad(1119, (unsigned long )0, (long long )10);
      __CrestApply2(1118, 13, (long long )((int )*mem_18 != 10));
#line 379
      if ((int )*mem_18 != 10) {
        __CrestBranch(1121, 416, 1);
#line 379
        mem_19 = lin + *i;
        __CrestLoad(1123, (unsigned long )mem_19, (long long )*mem_19);
        __CrestLoad(1126, (unsigned long )(& j), (long long )j);
        __CrestLoad(1125, (unsigned long )0, (long long )1);
        __CrestApply2(1124, 0, (long long )(j + 1));
#line 379
        tmp___0 = locate(*mem_19, pat, j + 1);
        __CrestHandleReturn(1128, (long long )tmp___0);
        __CrestStore(1127, (unsigned long )(& tmp___0));
        {
        __CrestLoad(1131, (unsigned long )(& tmp___0), (long long )tmp___0);
        __CrestLoad(1130, (unsigned long )0, (long long )0);
        __CrestApply2(1129, 13, (long long )(tmp___0 != 0));
#line 379
        if (tmp___0 != 0) {
          __CrestBranch(1132, 418, 1);

        } else {
          __CrestBranch(1133, 419, 0);
          __CrestLoad(1134, (unsigned long )0, (long long )(char)1);
          __CrestStore(1135, (unsigned long )(& advance));
#line 380
          advance = (char)1;
        }
        }
      } else {
        __CrestBranch(1122, 420, 0);

      }
      }
      }
#line 381
      goto switch_break;
      switch_default: /* CIL Label */ 
#line 383
      mem_20 = pat + j;
      __CrestLoad(1136, (unsigned long )mem_20, (long long )*mem_20);
#line 383
      Caseerror((int )*mem_20);
      __CrestClearStack(1137);
      switch_break: /* CIL Label */ ;
      }
      }
    } else {
      __CrestBranch(1046, 424, 0);
#line 352
      fprintf((FILE * __restrict  )stdout, (char const   * __restrict  )"in omatch: can\'t happen\n");
      __CrestClearStack(1138);
#line 353
      abort();
      __CrestClearStack(1139);
    }
    }
  }
  }
  }
  {
  __CrestLoad(1142, (unsigned long )(& advance), (long long )advance);
  __CrestLoad(1141, (unsigned long )0, (long long )0);
  __CrestApply2(1140, 17, (long long )((int )advance >= 0));
#line 387
  if ((int )advance >= 0) {
    __CrestBranch(1143, 426, 1);
    __CrestLoad(1147, (unsigned long )i, (long long )*i);
    __CrestLoad(1146, (unsigned long )(& advance), (long long )advance);
    __CrestApply2(1145, 0, (long long )(*i + (int )advance));
    __CrestStore(1148, (unsigned long )i);
#line 389
    *i += (int )advance;
    __CrestLoad(1149, (unsigned long )0, (long long )((bool )1));
    __CrestStore(1150, (unsigned long )(& result));
#line 390
    result = (bool )1;
  } else {
    __CrestBranch(1144, 427, 0);
    __CrestLoad(1151, (unsigned long )0, (long long )((bool )0));
    __CrestStore(1152, (unsigned long )(& result));
#line 392
    result = (bool )0;
  }
  }
  {
  __CrestLoad(1153, (unsigned long )(& result), (long long )result);
  __CrestReturn(1154);
#line 393
  return (result);
  }
}
}
#line 396 "replace.c"
int patsize(char *pat , int n ) 
{ 
  int size ;
  bool tmp ;
  char *mem_5 ;
  char *mem_6 ;
  char *mem_7 ;
  char *mem_8 ;

  {
  __CrestCall(1156, 15);
  __CrestStore(1155, (unsigned long )(& n));
#line 402
  mem_5 = pat + n;
  __CrestLoad(1157, (unsigned long )mem_5, (long long )*mem_5);
#line 402
  tmp = in_pat_set(*mem_5);
  __CrestHandleReturn(1159, (long long )tmp);
  __CrestStore(1158, (unsigned long )(& tmp));
  {
  __CrestLoad(1162, (unsigned long )(& tmp), (long long )tmp);
  __CrestLoad(1161, (unsigned long )0, (long long )0);
  __CrestApply2(1160, 13, (long long )(tmp != 0));
#line 402
  if (tmp != 0) {
    __CrestBranch(1163, 431, 1);
    {
#line 406
    mem_6 = pat + n;
    {
    {
    __CrestLoad(1167, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1166, (unsigned long )0, (long long )99);
    __CrestApply2(1165, 12, (long long )((int )*mem_6 == 99));
#line 408
    if ((int )*mem_6 == 99) {
      __CrestBranch(1168, 435, 1);
#line 408
      goto case_99;
    } else {
      __CrestBranch(1169, 436, 0);

    }
    }
    {
    __CrestLoad(1172, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1171, (unsigned long )0, (long long )63);
    __CrestApply2(1170, 12, (long long )((int )*mem_6 == 63));
#line 410
    if ((int )*mem_6 == 63) {
      __CrestBranch(1173, 438, 1);
#line 410
      goto case_63;
    } else {
      __CrestBranch(1174, 439, 0);

    }
    }
    {
    __CrestLoad(1177, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1176, (unsigned long )0, (long long )36);
    __CrestApply2(1175, 12, (long long )((int )*mem_6 == 36));
#line 410
    if ((int )*mem_6 == 36) {
      __CrestBranch(1178, 441, 1);
#line 410
      goto case_63;
    } else {
      __CrestBranch(1179, 442, 0);

    }
    }
    {
    __CrestLoad(1182, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1181, (unsigned long )0, (long long )37);
    __CrestApply2(1180, 12, (long long )((int )*mem_6 == 37));
#line 410
    if ((int )*mem_6 == 37) {
      __CrestBranch(1183, 444, 1);
#line 410
      goto case_63;
    } else {
      __CrestBranch(1184, 445, 0);

    }
    }
    {
    __CrestLoad(1187, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1186, (unsigned long )0, (long long )33);
    __CrestApply2(1185, 12, (long long )((int )*mem_6 == 33));
#line 413
    if ((int )*mem_6 == 33) {
      __CrestBranch(1188, 447, 1);
#line 413
      goto case_33;
    } else {
      __CrestBranch(1189, 448, 0);

    }
    }
    {
    __CrestLoad(1192, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1191, (unsigned long )0, (long long )91);
    __CrestApply2(1190, 12, (long long )((int )*mem_6 == 91));
#line 413
    if ((int )*mem_6 == 91) {
      __CrestBranch(1193, 450, 1);
#line 413
      goto case_33;
    } else {
      __CrestBranch(1194, 451, 0);

    }
    }
    {
    __CrestLoad(1197, (unsigned long )mem_6, (long long )*mem_6);
    __CrestLoad(1196, (unsigned long )0, (long long )42);
    __CrestApply2(1195, 12, (long long )((int )*mem_6 == 42));
#line 416
    if ((int )*mem_6 == 42) {
      __CrestBranch(1198, 453, 1);
#line 416
      goto case_42;
    } else {
      __CrestBranch(1199, 454, 0);

    }
    }
#line 419
    goto switch_default;
    case_99: /* CIL Label */ 
    __CrestLoad(1200, (unsigned long )0, (long long )2);
    __CrestStore(1201, (unsigned long )(& size));
#line 408
    size = 2;
#line 408
    goto switch_break;
    case_63: /* CIL Label */ 
    case_36: /* CIL Label */ 
    case_37: /* CIL Label */ 
    __CrestLoad(1202, (unsigned long )0, (long long )1);
    __CrestStore(1203, (unsigned long )(& size));
#line 411
    size = 1;
#line 412
    goto switch_break;
    case_33: /* CIL Label */ 
    case_91: /* CIL Label */ 
#line 414
    mem_7 = pat + (n + 1);
    __CrestLoad(1206, (unsigned long )mem_7, (long long )*mem_7);
    __CrestLoad(1205, (unsigned long )0, (long long )2);
    __CrestApply2(1204, 0, (long long )((int )*mem_7 + 2));
    __CrestStore(1207, (unsigned long )(& size));
#line 414
    size = (int )*mem_7 + 2;
#line 415
    goto switch_break;
    case_42: /* CIL Label */ 
    __CrestLoad(1208, (unsigned long )0, (long long )1);
    __CrestStore(1209, (unsigned long )(& size));
#line 417
    size = 1;
#line 418
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 420
    mem_8 = pat + n;
    __CrestLoad(1210, (unsigned long )mem_8, (long long )*mem_8);
#line 420
    Caseerror((int )*mem_8);
    __CrestClearStack(1211);
    switch_break: /* CIL Label */ ;
    }
    }
  } else {
    __CrestBranch(1164, 466, 0);
#line 403
    fprintf((FILE * __restrict  )stdout, (char const   * __restrict  )"in patsize: can\'t happen\n");
    __CrestClearStack(1212);
#line 404
    abort();
    __CrestClearStack(1213);
  }
  }
  {
  __CrestLoad(1214, (unsigned long )(& size), (long long )size);
  __CrestReturn(1215);
#line 422
  return (size);
  }
}
}
#line 425 "replace.c"
int amatch(char *lin , int offset , char *pat , int j ) 
{ 
  int i ;
  int k ;
  bool result ;
  bool done ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  char *mem_12 ;
  char *mem_13 ;
  char *mem_14 ;
  char *mem_15 ;
  char *mem_16 ;
  char *mem_17 ;
  char *mem_18 ;
  char *mem_19 ;

  {
  __CrestCall(1218, 16);
  __CrestStore(1217, (unsigned long )(& j));
  __CrestStore(1216, (unsigned long )(& offset));
  __CrestLoad(1219, (unsigned long )0, (long long )((bool )0));
  __CrestStore(1220, (unsigned long )(& done));
#line 435
  done = (bool )0;
  {
  {
  __CrestLoad(1223, (unsigned long )(& done), (long long )done);
  __CrestLoad(1222, (unsigned long )0, (long long )0);
  __CrestApply2(1221, 12, (long long )(done == 0));
  if (done == 0) {
    __CrestBranch(1224, 471, 1);
    {
    mem_12 = pat + j;
    {
    __CrestLoad(1228, (unsigned long )mem_12, (long long )*mem_12);
    __CrestLoad(1227, (unsigned long )0, (long long )0);
    __CrestApply2(1226, 13, (long long )((int )*mem_12 != 0));
    if ((int )*mem_12 != 0) {
      __CrestBranch(1229, 474, 1);
      {
      mem_13 = pat + j;
      {
      __CrestLoad(1233, (unsigned long )mem_13, (long long )*mem_13);
      __CrestLoad(1232, (unsigned long )0, (long long )42);
      __CrestApply2(1231, 12, (long long )((int )*mem_13 == 42));
      if ((int )*mem_13 == 42) {
        __CrestBranch(1234, 477, 1);
        __CrestLoad(1236, (unsigned long )(& j), (long long )j);
        tmp = patsize(pat, j);
        __CrestHandleReturn(1238, (long long )tmp);
        __CrestStore(1237, (unsigned long )(& tmp));
        __CrestLoad(1241, (unsigned long )(& j), (long long )j);
        __CrestLoad(1240, (unsigned long )(& tmp), (long long )tmp);
        __CrestApply2(1239, 0, (long long )(j + tmp));
        __CrestStore(1242, (unsigned long )(& j));
        j += tmp;
        __CrestLoad(1243, (unsigned long )(& offset), (long long )offset);
        __CrestStore(1244, (unsigned long )(& i));
        i = offset;
        {
        {
        __CrestLoad(1247, (unsigned long )(& done), (long long )done);
        __CrestLoad(1246, (unsigned long )0, (long long )0);
        __CrestApply2(1245, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1248, 480, 1);
          {
          mem_14 = lin + i;
          {
          __CrestLoad(1252, (unsigned long )mem_14, (long long )*mem_14);
          __CrestLoad(1251, (unsigned long )0, (long long )0);
          __CrestApply2(1250, 13, (long long )((int )*mem_14 != 0));
          if ((int )*mem_14 != 0) {
            __CrestBranch(1253, 483, 1);
            __CrestLoad(1255, (unsigned long )(& j), (long long )j);
            result = omatch(lin, & i, pat, j);
            __CrestHandleReturn(1257, (long long )result);
            __CrestStore(1256, (unsigned long )(& result));
            {
            __CrestLoad(1260, (unsigned long )(& result), (long long )result);
            __CrestLoad(1259, (unsigned long )0, (long long )0);
            __CrestApply2(1258, 12, (long long )(result == 0));
            if (result == 0) {
              __CrestBranch(1261, 485, 1);
              __CrestLoad(1263, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1264, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1262, 486, 0);

            }
            }
          } else {
            __CrestBranch(1254, 487, 0);

          }
          }
          }
        } else {
          __CrestBranch(1249, 488, 0);

        }
        }
        {
        __CrestLoad(1267, (unsigned long )(& done), (long long )done);
        __CrestLoad(1266, (unsigned long )0, (long long )0);
        __CrestApply2(1265, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1268, 490, 1);
          {
          mem_15 = lin + i;
          {
          __CrestLoad(1272, (unsigned long )mem_15, (long long )*mem_15);
          __CrestLoad(1271, (unsigned long )0, (long long )0);
          __CrestApply2(1270, 13, (long long )((int )*mem_15 != 0));
          if ((int )*mem_15 != 0) {
            __CrestBranch(1273, 493, 1);
            __CrestLoad(1275, (unsigned long )(& j), (long long )j);
            result = omatch(lin, & i, pat, j);
            __CrestHandleReturn(1277, (long long )result);
            __CrestStore(1276, (unsigned long )(& result));
            {
            __CrestLoad(1280, (unsigned long )(& result), (long long )result);
            __CrestLoad(1279, (unsigned long )0, (long long )0);
            __CrestApply2(1278, 12, (long long )(result == 0));
            if (result == 0) {
              __CrestBranch(1281, 495, 1);
              __CrestLoad(1283, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1284, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1282, 496, 0);

            }
            }
          } else {
            __CrestBranch(1274, 497, 0);

          }
          }
          }
        } else {
          __CrestBranch(1269, 498, 0);

        }
        }
        }
        __CrestLoad(1285, (unsigned long )0, (long long )((bool )0));
        __CrestStore(1286, (unsigned long )(& done));
        done = (bool )0;
        {
        {
        __CrestLoad(1289, (unsigned long )(& done), (long long )done);
        __CrestLoad(1288, (unsigned long )0, (long long )0);
        __CrestApply2(1287, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1290, 502, 1);
          {
          __CrestLoad(1294, (unsigned long )(& i), (long long )i);
          __CrestLoad(1293, (unsigned long )(& offset), (long long )offset);
          __CrestApply2(1292, 17, (long long )(i >= offset));
          if (i >= offset) {
            __CrestBranch(1295, 503, 1);
            __CrestLoad(1297, (unsigned long )(& j), (long long )j);
            tmp___0 = patsize(pat, j);
            __CrestHandleReturn(1299, (long long )tmp___0);
            __CrestStore(1298, (unsigned long )(& tmp___0));
            __CrestLoad(1300, (unsigned long )(& i), (long long )i);
            __CrestLoad(1303, (unsigned long )(& j), (long long )j);
            __CrestLoad(1302, (unsigned long )(& tmp___0), (long long )tmp___0);
            __CrestApply2(1301, 0, (long long )(j + tmp___0));
            k = amatch(lin, i, pat, j + tmp___0);
            __CrestHandleReturn(1305, (long long )k);
            __CrestStore(1304, (unsigned long )(& k));
            {
            __CrestLoad(1308, (unsigned long )(& k), (long long )k);
            __CrestLoad(1307, (unsigned long )0, (long long )0);
            __CrestApply2(1306, 17, (long long )(k >= 0));
            if (k >= 0) {
              __CrestBranch(1309, 505, 1);
              __CrestLoad(1311, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1312, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1310, 506, 0);
              __CrestLoad(1315, (unsigned long )(& i), (long long )i);
              __CrestLoad(1314, (unsigned long )0, (long long )1);
              __CrestApply2(1313, 1, (long long )(i - 1));
              __CrestStore(1316, (unsigned long )(& i));
              i --;
            }
            }
          } else {
            __CrestBranch(1296, 507, 0);

          }
          }
        } else {
          __CrestBranch(1291, 508, 0);

        }
        }
        {
        __CrestLoad(1319, (unsigned long )(& done), (long long )done);
        __CrestLoad(1318, (unsigned long )0, (long long )0);
        __CrestApply2(1317, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1320, 510, 1);
          {
          __CrestLoad(1324, (unsigned long )(& i), (long long )i);
          __CrestLoad(1323, (unsigned long )(& offset), (long long )offset);
          __CrestApply2(1322, 17, (long long )(i >= offset));
          if (i >= offset) {
            __CrestBranch(1325, 511, 1);
            __CrestLoad(1327, (unsigned long )(& j), (long long )j);
            tmp___0 = patsize(pat, j);
            __CrestHandleReturn(1329, (long long )tmp___0);
            __CrestStore(1328, (unsigned long )(& tmp___0));
            __CrestLoad(1330, (unsigned long )(& i), (long long )i);
            __CrestLoad(1333, (unsigned long )(& j), (long long )j);
            __CrestLoad(1332, (unsigned long )(& tmp___0), (long long )tmp___0);
            __CrestApply2(1331, 0, (long long )(j + tmp___0));
            k = amatch(lin, i, pat, j + tmp___0);
            __CrestHandleReturn(1335, (long long )k);
            __CrestStore(1334, (unsigned long )(& k));
            {
            __CrestLoad(1338, (unsigned long )(& k), (long long )k);
            __CrestLoad(1337, (unsigned long )0, (long long )0);
            __CrestApply2(1336, 17, (long long )(k >= 0));
            if (k >= 0) {
              __CrestBranch(1339, 513, 1);
              __CrestLoad(1341, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1342, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1340, 514, 0);
              __CrestLoad(1345, (unsigned long )(& i), (long long )i);
              __CrestLoad(1344, (unsigned long )0, (long long )1);
              __CrestApply2(1343, 1, (long long )(i - 1));
              __CrestStore(1346, (unsigned long )(& i));
              i --;
            }
            }
          } else {
            __CrestBranch(1326, 515, 0);

          }
          }
        } else {
          __CrestBranch(1321, 516, 0);

        }
        }
        }
        __CrestLoad(1347, (unsigned long )(& k), (long long )k);
        __CrestStore(1348, (unsigned long )(& offset));
        offset = k;
        __CrestLoad(1349, (unsigned long )0, (long long )((bool )1));
        __CrestStore(1350, (unsigned long )(& done));
        done = (bool )1;
      } else {
        __CrestBranch(1235, 518, 0);
        __CrestLoad(1351, (unsigned long )(& j), (long long )j);
        result = omatch(lin, & offset, pat, j);
        __CrestHandleReturn(1353, (long long )result);
        __CrestStore(1352, (unsigned long )(& result));
        {
        __CrestLoad(1356, (unsigned long )(& result), (long long )result);
        __CrestLoad(1355, (unsigned long )0, (long long )0);
        __CrestApply2(1354, 12, (long long )(result == 0));
        if (result == 0) {
          __CrestBranch(1357, 520, 1);
          __CrestLoad(1359, (unsigned long )0, (long long )-1);
          __CrestStore(1360, (unsigned long )(& offset));
          offset = -1;
          __CrestLoad(1361, (unsigned long )0, (long long )((bool )1));
          __CrestStore(1362, (unsigned long )(& done));
          done = (bool )1;
        } else {
          __CrestBranch(1358, 521, 0);
          __CrestLoad(1363, (unsigned long )(& j), (long long )j);
          tmp___1 = patsize(pat, j);
          __CrestHandleReturn(1365, (long long )tmp___1);
          __CrestStore(1364, (unsigned long )(& tmp___1));
          __CrestLoad(1368, (unsigned long )(& j), (long long )j);
          __CrestLoad(1367, (unsigned long )(& tmp___1), (long long )tmp___1);
          __CrestApply2(1366, 0, (long long )(j + tmp___1));
          __CrestStore(1369, (unsigned long )(& j));
          j += tmp___1;
        }
        }
      }
      }
      }
    } else {
      __CrestBranch(1230, 522, 0);

    }
    }
    }
  } else {
    __CrestBranch(1225, 523, 0);

  }
  }
  {
  __CrestLoad(1372, (unsigned long )(& done), (long long )done);
  __CrestLoad(1371, (unsigned long )0, (long long )0);
  __CrestApply2(1370, 12, (long long )(done == 0));
  if (done == 0) {
    __CrestBranch(1373, 525, 1);
    {
    mem_16 = pat + j;
    {
    __CrestLoad(1377, (unsigned long )mem_16, (long long )*mem_16);
    __CrestLoad(1376, (unsigned long )0, (long long )0);
    __CrestApply2(1375, 13, (long long )((int )*mem_16 != 0));
    if ((int )*mem_16 != 0) {
      __CrestBranch(1378, 528, 1);
      {
      mem_17 = pat + j;
      {
      __CrestLoad(1382, (unsigned long )mem_17, (long long )*mem_17);
      __CrestLoad(1381, (unsigned long )0, (long long )42);
      __CrestApply2(1380, 12, (long long )((int )*mem_17 == 42));
      if ((int )*mem_17 == 42) {
        __CrestBranch(1383, 531, 1);
        __CrestLoad(1385, (unsigned long )(& j), (long long )j);
        tmp = patsize(pat, j);
        __CrestHandleReturn(1387, (long long )tmp);
        __CrestStore(1386, (unsigned long )(& tmp));
        __CrestLoad(1390, (unsigned long )(& j), (long long )j);
        __CrestLoad(1389, (unsigned long )(& tmp), (long long )tmp);
        __CrestApply2(1388, 0, (long long )(j + tmp));
        __CrestStore(1391, (unsigned long )(& j));
        j += tmp;
        __CrestLoad(1392, (unsigned long )(& offset), (long long )offset);
        __CrestStore(1393, (unsigned long )(& i));
        i = offset;
        {
        {
        __CrestLoad(1396, (unsigned long )(& done), (long long )done);
        __CrestLoad(1395, (unsigned long )0, (long long )0);
        __CrestApply2(1394, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1397, 534, 1);
          {
          mem_18 = lin + i;
          {
          __CrestLoad(1401, (unsigned long )mem_18, (long long )*mem_18);
          __CrestLoad(1400, (unsigned long )0, (long long )0);
          __CrestApply2(1399, 13, (long long )((int )*mem_18 != 0));
          if ((int )*mem_18 != 0) {
            __CrestBranch(1402, 537, 1);
            __CrestLoad(1404, (unsigned long )(& j), (long long )j);
            result = omatch(lin, & i, pat, j);
            __CrestHandleReturn(1406, (long long )result);
            __CrestStore(1405, (unsigned long )(& result));
            {
            __CrestLoad(1409, (unsigned long )(& result), (long long )result);
            __CrestLoad(1408, (unsigned long )0, (long long )0);
            __CrestApply2(1407, 12, (long long )(result == 0));
            if (result == 0) {
              __CrestBranch(1410, 539, 1);
              __CrestLoad(1412, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1413, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1411, 540, 0);

            }
            }
          } else {
            __CrestBranch(1403, 541, 0);

          }
          }
          }
        } else {
          __CrestBranch(1398, 542, 0);

        }
        }
        {
        __CrestLoad(1416, (unsigned long )(& done), (long long )done);
        __CrestLoad(1415, (unsigned long )0, (long long )0);
        __CrestApply2(1414, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1417, 544, 1);
          {
          mem_19 = lin + i;
          {
          __CrestLoad(1421, (unsigned long )mem_19, (long long )*mem_19);
          __CrestLoad(1420, (unsigned long )0, (long long )0);
          __CrestApply2(1419, 13, (long long )((int )*mem_19 != 0));
          if ((int )*mem_19 != 0) {
            __CrestBranch(1422, 547, 1);
            __CrestLoad(1424, (unsigned long )(& j), (long long )j);
            result = omatch(lin, & i, pat, j);
            __CrestHandleReturn(1426, (long long )result);
            __CrestStore(1425, (unsigned long )(& result));
            {
            __CrestLoad(1429, (unsigned long )(& result), (long long )result);
            __CrestLoad(1428, (unsigned long )0, (long long )0);
            __CrestApply2(1427, 12, (long long )(result == 0));
            if (result == 0) {
              __CrestBranch(1430, 549, 1);
              __CrestLoad(1432, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1433, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1431, 550, 0);

            }
            }
          } else {
            __CrestBranch(1423, 551, 0);

          }
          }
          }
        } else {
          __CrestBranch(1418, 552, 0);

        }
        }
        }
        __CrestLoad(1434, (unsigned long )0, (long long )((bool )0));
        __CrestStore(1435, (unsigned long )(& done));
        done = (bool )0;
        {
        {
        __CrestLoad(1438, (unsigned long )(& done), (long long )done);
        __CrestLoad(1437, (unsigned long )0, (long long )0);
        __CrestApply2(1436, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1439, 556, 1);
          {
          __CrestLoad(1443, (unsigned long )(& i), (long long )i);
          __CrestLoad(1442, (unsigned long )(& offset), (long long )offset);
          __CrestApply2(1441, 17, (long long )(i >= offset));
          if (i >= offset) {
            __CrestBranch(1444, 557, 1);
            __CrestLoad(1446, (unsigned long )(& j), (long long )j);
            tmp___0 = patsize(pat, j);
            __CrestHandleReturn(1448, (long long )tmp___0);
            __CrestStore(1447, (unsigned long )(& tmp___0));
            __CrestLoad(1449, (unsigned long )(& i), (long long )i);
            __CrestLoad(1452, (unsigned long )(& j), (long long )j);
            __CrestLoad(1451, (unsigned long )(& tmp___0), (long long )tmp___0);
            __CrestApply2(1450, 0, (long long )(j + tmp___0));
            k = amatch(lin, i, pat, j + tmp___0);
            __CrestHandleReturn(1454, (long long )k);
            __CrestStore(1453, (unsigned long )(& k));
            {
            __CrestLoad(1457, (unsigned long )(& k), (long long )k);
            __CrestLoad(1456, (unsigned long )0, (long long )0);
            __CrestApply2(1455, 17, (long long )(k >= 0));
            if (k >= 0) {
              __CrestBranch(1458, 559, 1);
              __CrestLoad(1460, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1461, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1459, 560, 0);
              __CrestLoad(1464, (unsigned long )(& i), (long long )i);
              __CrestLoad(1463, (unsigned long )0, (long long )1);
              __CrestApply2(1462, 1, (long long )(i - 1));
              __CrestStore(1465, (unsigned long )(& i));
              i --;
            }
            }
          } else {
            __CrestBranch(1445, 561, 0);

          }
          }
        } else {
          __CrestBranch(1440, 562, 0);

        }
        }
        {
        __CrestLoad(1468, (unsigned long )(& done), (long long )done);
        __CrestLoad(1467, (unsigned long )0, (long long )0);
        __CrestApply2(1466, 12, (long long )(done == 0));
        if (done == 0) {
          __CrestBranch(1469, 564, 1);
          {
          __CrestLoad(1473, (unsigned long )(& i), (long long )i);
          __CrestLoad(1472, (unsigned long )(& offset), (long long )offset);
          __CrestApply2(1471, 17, (long long )(i >= offset));
          if (i >= offset) {
            __CrestBranch(1474, 565, 1);
            __CrestLoad(1476, (unsigned long )(& j), (long long )j);
            tmp___0 = patsize(pat, j);
            __CrestHandleReturn(1478, (long long )tmp___0);
            __CrestStore(1477, (unsigned long )(& tmp___0));
            __CrestLoad(1479, (unsigned long )(& i), (long long )i);
            __CrestLoad(1482, (unsigned long )(& j), (long long )j);
            __CrestLoad(1481, (unsigned long )(& tmp___0), (long long )tmp___0);
            __CrestApply2(1480, 0, (long long )(j + tmp___0));
            k = amatch(lin, i, pat, j + tmp___0);
            __CrestHandleReturn(1484, (long long )k);
            __CrestStore(1483, (unsigned long )(& k));
            {
            __CrestLoad(1487, (unsigned long )(& k), (long long )k);
            __CrestLoad(1486, (unsigned long )0, (long long )0);
            __CrestApply2(1485, 17, (long long )(k >= 0));
            if (k >= 0) {
              __CrestBranch(1488, 567, 1);
              __CrestLoad(1490, (unsigned long )0, (long long )((bool )1));
              __CrestStore(1491, (unsigned long )(& done));
              done = (bool )1;
            } else {
              __CrestBranch(1489, 568, 0);
              __CrestLoad(1494, (unsigned long )(& i), (long long )i);
              __CrestLoad(1493, (unsigned long )0, (long long )1);
              __CrestApply2(1492, 1, (long long )(i - 1));
              __CrestStore(1495, (unsigned long )(& i));
              i --;
            }
            }
          } else {
            __CrestBranch(1475, 569, 0);

          }
          }
        } else {
          __CrestBranch(1470, 570, 0);

        }
        }
        }
        __CrestLoad(1496, (unsigned long )(& k), (long long )k);
        __CrestStore(1497, (unsigned long )(& offset));
        offset = k;
        __CrestLoad(1498, (unsigned long )0, (long long )((bool )1));
        __CrestStore(1499, (unsigned long )(& done));
        done = (bool )1;
      } else {
        __CrestBranch(1384, 572, 0);
        __CrestLoad(1500, (unsigned long )(& j), (long long )j);
        result = omatch(lin, & offset, pat, j);
        __CrestHandleReturn(1502, (long long )result);
        __CrestStore(1501, (unsigned long )(& result));
        {
        __CrestLoad(1505, (unsigned long )(& result), (long long )result);
        __CrestLoad(1504, (unsigned long )0, (long long )0);
        __CrestApply2(1503, 12, (long long )(result == 0));
        if (result == 0) {
          __CrestBranch(1506, 574, 1);
          __CrestLoad(1508, (unsigned long )0, (long long )-1);
          __CrestStore(1509, (unsigned long )(& offset));
          offset = -1;
          __CrestLoad(1510, (unsigned long )0, (long long )((bool )1));
          __CrestStore(1511, (unsigned long )(& done));
          done = (bool )1;
        } else {
          __CrestBranch(1507, 575, 0);
          __CrestLoad(1512, (unsigned long )(& j), (long long )j);
          tmp___1 = patsize(pat, j);
          __CrestHandleReturn(1514, (long long )tmp___1);
          __CrestStore(1513, (unsigned long )(& tmp___1));
          __CrestLoad(1517, (unsigned long )(& j), (long long )j);
          __CrestLoad(1516, (unsigned long )(& tmp___1), (long long )tmp___1);
          __CrestApply2(1515, 0, (long long )(j + tmp___1));
          __CrestStore(1518, (unsigned long )(& j));
          j += tmp___1;
        }
        }
      }
      }
      }
    } else {
      __CrestBranch(1379, 576, 0);

    }
    }
    }
  } else {
    __CrestBranch(1374, 577, 0);

  }
  }
  }
  {
  __CrestLoad(1519, (unsigned long )(& offset), (long long )offset);
  __CrestReturn(1520);
#line 463
  return (offset);
  }
}
}
#line 466 "replace.c"
void putsub(char *lin , int s1 , int s2 , char *sub ) 
{ 
  int i ;
  int j ;
  char *mem_7 ;
  char *mem_8 ;
  char *mem_9 ;
  char *mem_10 ;
  char *mem_11 ;
  char *mem_12 ;
  char *mem_13 ;
  char *mem_14 ;
  char *mem_15 ;
  char *mem_16 ;

  {
  __CrestCall(1523, 17);
  __CrestStore(1522, (unsigned long )(& s2));
  __CrestStore(1521, (unsigned long )(& s1));
  __CrestLoad(1524, (unsigned long )0, (long long )0);
  __CrestStore(1525, (unsigned long )(& i));
#line 475
  i = 0;
  {
  {
  mem_7 = sub + i;
  {
  __CrestLoad(1528, (unsigned long )mem_7, (long long )*mem_7);
  __CrestLoad(1527, (unsigned long )0, (long long )0);
  __CrestApply2(1526, 13, (long long )((int )*mem_7 != 0));
  if ((int )*mem_7 != 0) {
    __CrestBranch(1529, 584, 1);
    {
    mem_8 = sub + i;
    {
    __CrestLoad(1533, (unsigned long )mem_8, (long long )*mem_8);
    __CrestLoad(1532, (unsigned long )0, (long long )-1);
    __CrestApply2(1531, 12, (long long )((int )*mem_8 == -1));
    if ((int )*mem_8 == -1) {
      __CrestBranch(1534, 587, 1);
      __CrestLoad(1536, (unsigned long )(& s1), (long long )s1);
      __CrestStore(1537, (unsigned long )(& j));
      j = s1;
      {
      {
      __CrestLoad(1540, (unsigned long )(& j), (long long )j);
      __CrestLoad(1539, (unsigned long )(& s2), (long long )s2);
      __CrestApply2(1538, 16, (long long )(j < s2));
      if (j < s2) {
        __CrestBranch(1541, 590, 1);
        mem_9 = lin + j;
        __CrestLoad(1543, (unsigned long )mem_9, (long long )*mem_9);
        fputc((int )*mem_9, stdout);
        __CrestClearStack(1544);
        __CrestLoad(1547, (unsigned long )(& j), (long long )j);
        __CrestLoad(1546, (unsigned long )0, (long long )1);
        __CrestApply2(1545, 0, (long long )(j + 1));
        __CrestStore(1548, (unsigned long )(& j));
        j ++;
      } else {
        __CrestBranch(1542, 591, 0);

      }
      }
      {
      __CrestLoad(1551, (unsigned long )(& j), (long long )j);
      __CrestLoad(1550, (unsigned long )(& s2), (long long )s2);
      __CrestApply2(1549, 16, (long long )(j < s2));
      if (j < s2) {
        __CrestBranch(1552, 593, 1);
        mem_10 = lin + j;
        __CrestLoad(1554, (unsigned long )mem_10, (long long )*mem_10);
        fputc((int )*mem_10, stdout);
        __CrestClearStack(1555);
        __CrestLoad(1558, (unsigned long )(& j), (long long )j);
        __CrestLoad(1557, (unsigned long )0, (long long )1);
        __CrestApply2(1556, 0, (long long )(j + 1));
        __CrestStore(1559, (unsigned long )(& j));
        j ++;
      } else {
        __CrestBranch(1553, 594, 0);

      }
      }
      }
    } else {
      __CrestBranch(1535, 595, 0);
      mem_11 = sub + i;
      __CrestLoad(1560, (unsigned long )mem_11, (long long )*mem_11);
      fputc((int )*mem_11, stdout);
      __CrestClearStack(1561);
    }
    }
    }
    __CrestLoad(1564, (unsigned long )(& i), (long long )i);
    __CrestLoad(1563, (unsigned long )0, (long long )1);
    __CrestApply2(1562, 0, (long long )(i + 1));
    __CrestStore(1565, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(1530, 597, 0);

  }
  }
  }
  {
  mem_12 = sub + i;
  {
  __CrestLoad(1568, (unsigned long )mem_12, (long long )*mem_12);
  __CrestLoad(1567, (unsigned long )0, (long long )0);
  __CrestApply2(1566, 13, (long long )((int )*mem_12 != 0));
  if ((int )*mem_12 != 0) {
    __CrestBranch(1569, 601, 1);
    {
    mem_13 = sub + i;
    {
    __CrestLoad(1573, (unsigned long )mem_13, (long long )*mem_13);
    __CrestLoad(1572, (unsigned long )0, (long long )-1);
    __CrestApply2(1571, 12, (long long )((int )*mem_13 == -1));
    if ((int )*mem_13 == -1) {
      __CrestBranch(1574, 604, 1);
      __CrestLoad(1576, (unsigned long )(& s1), (long long )s1);
      __CrestStore(1577, (unsigned long )(& j));
      j = s1;
      {
      {
      __CrestLoad(1580, (unsigned long )(& j), (long long )j);
      __CrestLoad(1579, (unsigned long )(& s2), (long long )s2);
      __CrestApply2(1578, 16, (long long )(j < s2));
      if (j < s2) {
        __CrestBranch(1581, 607, 1);
        mem_14 = lin + j;
        __CrestLoad(1583, (unsigned long )mem_14, (long long )*mem_14);
        fputc((int )*mem_14, stdout);
        __CrestClearStack(1584);
        __CrestLoad(1587, (unsigned long )(& j), (long long )j);
        __CrestLoad(1586, (unsigned long )0, (long long )1);
        __CrestApply2(1585, 0, (long long )(j + 1));
        __CrestStore(1588, (unsigned long )(& j));
        j ++;
      } else {
        __CrestBranch(1582, 608, 0);

      }
      }
      {
      __CrestLoad(1591, (unsigned long )(& j), (long long )j);
      __CrestLoad(1590, (unsigned long )(& s2), (long long )s2);
      __CrestApply2(1589, 16, (long long )(j < s2));
      if (j < s2) {
        __CrestBranch(1592, 610, 1);
        mem_15 = lin + j;
        __CrestLoad(1594, (unsigned long )mem_15, (long long )*mem_15);
        fputc((int )*mem_15, stdout);
        __CrestClearStack(1595);
        __CrestLoad(1598, (unsigned long )(& j), (long long )j);
        __CrestLoad(1597, (unsigned long )0, (long long )1);
        __CrestApply2(1596, 0, (long long )(j + 1));
        __CrestStore(1599, (unsigned long )(& j));
        j ++;
      } else {
        __CrestBranch(1593, 611, 0);

      }
      }
      }
    } else {
      __CrestBranch(1575, 612, 0);
      mem_16 = sub + i;
      __CrestLoad(1600, (unsigned long )mem_16, (long long )*mem_16);
      fputc((int )*mem_16, stdout);
      __CrestClearStack(1601);
    }
    }
    }
    __CrestLoad(1604, (unsigned long )(& i), (long long )i);
    __CrestLoad(1603, (unsigned long )0, (long long )1);
    __CrestApply2(1602, 0, (long long )(i + 1));
    __CrestStore(1605, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(1570, 614, 0);

  }
  }
  }
  }

  {
  __CrestReturn(1606);
#line 466
  return;
  }
}
}
#line 490 "replace.c"
void subline(char *lin , char *pat , char *sub ) 
{ 
  int i ;
  int lastm ;
  int m ;
  char *mem_7 ;
  char *mem_8 ;
  char *mem_9 ;
  char *mem_10 ;
  char *mem_11 ;
  char *mem_12 ;

  {
  __CrestCall(1607, 18);

  __CrestLoad(1608, (unsigned long )0, (long long )-1);
  __CrestStore(1609, (unsigned long )(& lastm));
#line 498
  lastm = -1;
  __CrestLoad(1610, (unsigned long )0, (long long )0);
  __CrestStore(1611, (unsigned long )(& i));
#line 499
  i = 0;
  {
  {
  mem_7 = lin + i;
  {
  __CrestLoad(1614, (unsigned long )mem_7, (long long )*mem_7);
  __CrestLoad(1613, (unsigned long )0, (long long )0);
  __CrestApply2(1612, 13, (long long )((int )*mem_7 != 0));
  if ((int )*mem_7 != 0) {
    __CrestBranch(1615, 622, 1);
    __CrestLoad(1617, (unsigned long )(& i), (long long )i);
    __CrestLoad(1618, (unsigned long )0, (long long )0);
    m = amatch(lin, i, pat, 0);
    __CrestHandleReturn(1620, (long long )m);
    __CrestStore(1619, (unsigned long )(& m));
    {
    __CrestLoad(1623, (unsigned long )(& m), (long long )m);
    __CrestLoad(1622, (unsigned long )0, (long long )0);
    __CrestApply2(1621, 17, (long long )(m >= 0));
    if (m >= 0) {
      __CrestBranch(1624, 624, 1);
      {
      __CrestLoad(1628, (unsigned long )(& lastm), (long long )lastm);
      __CrestLoad(1627, (unsigned long )(& m), (long long )m);
      __CrestApply2(1626, 13, (long long )(lastm != m));
      if (lastm != m) {
        __CrestBranch(1629, 625, 1);
        __CrestLoad(1631, (unsigned long )(& i), (long long )i);
        __CrestLoad(1632, (unsigned long )(& m), (long long )m);
        putsub(lin, i, m, sub);
        __CrestClearStack(1633);
        __CrestLoad(1634, (unsigned long )(& m), (long long )m);
        __CrestStore(1635, (unsigned long )(& lastm));
        lastm = m;
      } else {
        __CrestBranch(1630, 626, 0);

      }
      }
    } else {
      __CrestBranch(1625, 627, 0);

    }
    }
    {
    __CrestLoad(1638, (unsigned long )(& m), (long long )m);
    __CrestLoad(1637, (unsigned long )0, (long long )-1);
    __CrestApply2(1636, 12, (long long )(m == -1));
    if (m == -1) {
      __CrestBranch(1639, 629, 1);
      mem_8 = lin + i;
      __CrestLoad(1641, (unsigned long )mem_8, (long long )*mem_8);
      fputc((int )*mem_8, stdout);
      __CrestClearStack(1642);
      __CrestLoad(1645, (unsigned long )(& i), (long long )i);
      __CrestLoad(1644, (unsigned long )0, (long long )1);
      __CrestApply2(1643, 0, (long long )(i + 1));
      __CrestStore(1646, (unsigned long )(& i));
      i ++;
    } else {
      __CrestBranch(1640, 630, 0);
      {
      __CrestLoad(1649, (unsigned long )(& m), (long long )m);
      __CrestLoad(1648, (unsigned long )(& i), (long long )i);
      __CrestApply2(1647, 12, (long long )(m == i));
      if (m == i) {
        __CrestBranch(1650, 631, 1);
        mem_9 = lin + i;
        __CrestLoad(1652, (unsigned long )mem_9, (long long )*mem_9);
        fputc((int )*mem_9, stdout);
        __CrestClearStack(1653);
        __CrestLoad(1656, (unsigned long )(& i), (long long )i);
        __CrestLoad(1655, (unsigned long )0, (long long )1);
        __CrestApply2(1654, 0, (long long )(i + 1));
        __CrestStore(1657, (unsigned long )(& i));
        i ++;
      } else {
        __CrestBranch(1651, 632, 0);
        __CrestLoad(1658, (unsigned long )(& m), (long long )m);
        __CrestStore(1659, (unsigned long )(& i));
        i = m;
      }
      }
    }
    }
  } else {
    __CrestBranch(1616, 633, 0);

  }
  }
  }
  {
  mem_10 = lin + i;
  {
  __CrestLoad(1662, (unsigned long )mem_10, (long long )*mem_10);
  __CrestLoad(1661, (unsigned long )0, (long long )0);
  __CrestApply2(1660, 13, (long long )((int )*mem_10 != 0));
  if ((int )*mem_10 != 0) {
    __CrestBranch(1663, 637, 1);
    __CrestLoad(1665, (unsigned long )(& i), (long long )i);
    __CrestLoad(1666, (unsigned long )0, (long long )0);
    m = amatch(lin, i, pat, 0);
    __CrestHandleReturn(1668, (long long )m);
    __CrestStore(1667, (unsigned long )(& m));
    {
    __CrestLoad(1671, (unsigned long )(& m), (long long )m);
    __CrestLoad(1670, (unsigned long )0, (long long )0);
    __CrestApply2(1669, 17, (long long )(m >= 0));
    if (m >= 0) {
      __CrestBranch(1672, 639, 1);
      {
      __CrestLoad(1676, (unsigned long )(& lastm), (long long )lastm);
      __CrestLoad(1675, (unsigned long )(& m), (long long )m);
      __CrestApply2(1674, 13, (long long )(lastm != m));
      if (lastm != m) {
        __CrestBranch(1677, 640, 1);
        __CrestLoad(1679, (unsigned long )(& i), (long long )i);
        __CrestLoad(1680, (unsigned long )(& m), (long long )m);
        putsub(lin, i, m, sub);
        __CrestClearStack(1681);
        __CrestLoad(1682, (unsigned long )(& m), (long long )m);
        __CrestStore(1683, (unsigned long )(& lastm));
        lastm = m;
      } else {
        __CrestBranch(1678, 641, 0);

      }
      }
    } else {
      __CrestBranch(1673, 642, 0);

    }
    }
    {
    __CrestLoad(1686, (unsigned long )(& m), (long long )m);
    __CrestLoad(1685, (unsigned long )0, (long long )-1);
    __CrestApply2(1684, 12, (long long )(m == -1));
    if (m == -1) {
      __CrestBranch(1687, 644, 1);
      mem_11 = lin + i;
      __CrestLoad(1689, (unsigned long )mem_11, (long long )*mem_11);
      fputc((int )*mem_11, stdout);
      __CrestClearStack(1690);
      __CrestLoad(1693, (unsigned long )(& i), (long long )i);
      __CrestLoad(1692, (unsigned long )0, (long long )1);
      __CrestApply2(1691, 0, (long long )(i + 1));
      __CrestStore(1694, (unsigned long )(& i));
      i ++;
    } else {
      __CrestBranch(1688, 645, 0);
      {
      __CrestLoad(1697, (unsigned long )(& m), (long long )m);
      __CrestLoad(1696, (unsigned long )(& i), (long long )i);
      __CrestApply2(1695, 12, (long long )(m == i));
      if (m == i) {
        __CrestBranch(1698, 646, 1);
        mem_12 = lin + i;
        __CrestLoad(1700, (unsigned long )mem_12, (long long )*mem_12);
        fputc((int )*mem_12, stdout);
        __CrestClearStack(1701);
        __CrestLoad(1704, (unsigned long )(& i), (long long )i);
        __CrestLoad(1703, (unsigned long )0, (long long )1);
        __CrestApply2(1702, 0, (long long )(i + 1));
        __CrestStore(1705, (unsigned long )(& i));
        i ++;
      } else {
        __CrestBranch(1699, 647, 0);
        __CrestLoad(1706, (unsigned long )(& m), (long long )m);
        __CrestStore(1707, (unsigned long )(& i));
        i = m;
      }
      }
    }
    }
  } else {
    __CrestBranch(1664, 648, 0);

  }
  }
  }
  }

  {
  __CrestReturn(1708);
#line 490
  return;
  }
}
}
#line 515 "replace.c"
void change(char *pat , char *sub ) 
{ 
  string line ;
  bool result ;

  {
  __CrestCall(1709, 19);

  __CrestLoad(1710, (unsigned long )0, (long long )100);
#line 522
  result = getline2(line, 100);
  __CrestHandleReturn(1712, (long long )result);
  __CrestStore(1711, (unsigned long )(& result));
  {
  __CrestLoad(1715, (unsigned long )(& result), (long long )result);
  __CrestLoad(1714, (unsigned long )0, (long long )0);
  __CrestApply2(1713, 13, (long long )(result != 0));
#line 523
  if (result != 0) {
    __CrestBranch(1716, 653, 1);
#line 524
    subline(line, pat, sub);
    __CrestClearStack(1718);
  } else {
    __CrestBranch(1717, 654, 0);

  }
  }

  {
  __CrestReturn(1719);
#line 515
  return;
  }
}
}
#line 528 "replace.c"
int main(void) 
{ 
  string pat ;
  string sub ;
  bool result ;
  string input1 ;
  string input2 ;
  int i ;
  int tmp ;
  int __retres8 ;

  {
  __globinit_replace();
  __CrestCall(1720, 20);
  __CrestLoad(1721, (unsigned long )0, (long long )0);
  __CrestStore(1722, (unsigned long )(& i));
#line 538
  i = 0;
  __CrestLoad(1725, (unsigned long )(& i), (long long )i);
  __CrestLoad(1724, (unsigned long )0, (long long )9);
  __CrestApply2(1723, 16, (long long )(i < 9));
  if (i < 9) {
    __CrestBranch(1726, 660, 1);
    __CrestChar(& input1[i]);
    __CrestLoad(1730, (unsigned long )(& i), (long long )i);
    __CrestLoad(1729, (unsigned long )0, (long long )1);
    __CrestApply2(1728, 0, (long long )(i + 1));
    __CrestStore(1731, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(1727, 661, 0);

  }
  __CrestLoad(1734, (unsigned long )(& i), (long long )i);
  __CrestLoad(1733, (unsigned long )0, (long long )9);
  __CrestApply2(1732, 16, (long long )(i < 9));
  if (i < 9) {
    __CrestBranch(1735, 663, 1);
    __CrestChar(& input1[i]);
    __CrestLoad(1739, (unsigned long )(& i), (long long )i);
    __CrestLoad(1738, (unsigned long )0, (long long )1);
    __CrestApply2(1737, 0, (long long )(i + 1));
    __CrestStore(1740, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(1736, 664, 0);

  }
  __CrestLoad(1741, (unsigned long )0, (long long )(char)0);
  __CrestStore(1742, (unsigned long )(& input1[i]));
#line 541
  input1[i] = (char)0;
#line 543
  tmp = getpat(input1, pat);
  __CrestHandleReturn(1744, (long long )tmp);
  __CrestStore(1743, (unsigned long )(& tmp));
  __CrestLoad(1745, (unsigned long )(& tmp), (long long )tmp);
  __CrestStore(1746, (unsigned long )(& result));
#line 543
  result = (bool )tmp;
  __CrestLoad(1749, (unsigned long )(& result), (long long )result);
  __CrestLoad(1748, (unsigned long )0, (long long )0);
  __CrestApply2(1747, 12, (long long )(result == 0));
#line 544
  if (result == 0) {
    __CrestBranch(1750, 667, 1);
#line 546
    fprintf((FILE * __restrict  )stdout, (char const   * __restrict  )"change: illegal \"from\" pattern\n");
    __CrestClearStack(1752);
    __CrestLoad(1753, (unsigned long )0, (long long )2);
#line 547
    exit(2);
    __CrestClearStack(1754);
  } else {
    __CrestBranch(1751, 668, 0);

  }
  __CrestLoad(1755, (unsigned long )0, (long long )0);
  __CrestStore(1756, (unsigned long )(& i));
#line 550
  i = 0;
  __CrestLoad(1759, (unsigned long )(& i), (long long )i);
  __CrestLoad(1758, (unsigned long )0, (long long )9);
  __CrestApply2(1757, 16, (long long )(i < 9));
  if (i < 9) {
    __CrestBranch(1760, 672, 1);
    __CrestChar(& input2[i]);
    __CrestLoad(1764, (unsigned long )(& i), (long long )i);
    __CrestLoad(1763, (unsigned long )0, (long long )1);
    __CrestApply2(1762, 0, (long long )(i + 1));
    __CrestStore(1765, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(1761, 673, 0);

  }
  __CrestLoad(1768, (unsigned long )(& i), (long long )i);
  __CrestLoad(1767, (unsigned long )0, (long long )9);
  __CrestApply2(1766, 16, (long long )(i < 9));
  if (i < 9) {
    __CrestBranch(1769, 675, 1);
    __CrestChar(& input2[i]);
    __CrestLoad(1773, (unsigned long )(& i), (long long )i);
    __CrestLoad(1772, (unsigned long )0, (long long )1);
    __CrestApply2(1771, 0, (long long )(i + 1));
    __CrestStore(1774, (unsigned long )(& i));
    i ++;
  } else {
    __CrestBranch(1770, 676, 0);

  }
  __CrestLoad(1775, (unsigned long )0, (long long )(char)0);
  __CrestStore(1776, (unsigned long )(& input2[i]));
#line 553
  input2[i] = (char)0;
#line 555
  result = getsub(input2, sub);
  __CrestHandleReturn(1778, (long long )result);
  __CrestStore(1777, (unsigned long )(& result));
  __CrestLoad(1781, (unsigned long )(& result), (long long )result);
  __CrestLoad(1780, (unsigned long )0, (long long )0);
  __CrestApply2(1779, 12, (long long )(result == 0));
#line 556
  if (result == 0) {
    __CrestBranch(1782, 679, 1);
#line 558
    fprintf((FILE * __restrict  )stdout, (char const   * __restrict  )"change: illegal \"to\" string\n");
    __CrestClearStack(1784);
    __CrestLoad(1785, (unsigned long )0, (long long )3);
#line 559
    exit(3);
    __CrestClearStack(1786);
  } else {
    __CrestBranch(1783, 680, 0);

  }
#line 562
  change(pat, sub);
  __CrestClearStack(1787);
  __CrestLoad(1788, (unsigned long )0, (long long )0);
  __CrestStore(1789, (unsigned long )(& __retres8));
#line 563
  __retres8 = 0;
  __CrestLoad(1790, (unsigned long )(& __retres8), (long long )__retres8);
  __CrestReturn(1791);
#line 528
  return (__retres8);
}
}
#line 566 "replace.c"
void Caseerror(int n ) 
{ 


  {
  __CrestCall(1793, 21);
  __CrestStore(1792, (unsigned long )(& n));
  __CrestLoad(1794, (unsigned long )(& n), (long long )n);
#line 570
  fprintf((FILE * __restrict  )stdout, (char const   * __restrict  )"Missing case limb: line %d\n",
          n);
  __CrestClearStack(1795);
  __CrestLoad(1796, (unsigned long )0, (long long )4);
#line 571
  exit(4);
  __CrestClearStack(1797);
  {
  __CrestReturn(1798);
#line 566
  return;
  }
}
}
void __globinit_replace(void) 
{ 


  {
  __CrestInit();
}
}
